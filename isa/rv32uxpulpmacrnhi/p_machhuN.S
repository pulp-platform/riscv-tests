# See LICENSE for license details.

#*****************************************************************************
# p.machhuN
#-----------------------------------------------------------------------------
#
# Test p.machhuN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_OP( 2, p.machhuN, 0, 0, 0, 0, 0 )
  TEST_RRR_UIMM5_OP( 3, p.machhuN, 0, 0, 0, 0, 31 )
  TEST_RRR_UIMM5_OP( 4, p.machhuN, 4294967295, 0, 0, 4294967295, 0 )
  TEST_RRR_UIMM5_OP( 5, p.machhuN, 1, 0, 0, 4294967295, 31 )
  TEST_RRR_UIMM5_OP( 6, p.machhuN, 1, 0, 4294967295, 1, 0 )
  TEST_RRR_UIMM5_OP( 7, p.machhuN, 1, 2147549183, 1, 1, 0 )
  TEST_RRR_UIMM5_OP( 8, p.machhuN, 1, 4294967295, 0, 1, 0 )
  TEST_RRR_UIMM5_OP( 9, p.machhuN, 1, 65535, 131071, 1, 0 )
  TEST_RRR_UIMM5_OP( 10, p.machhuN, 1, 65535, 65535, 1, 0 )
  TEST_RRR_UIMM5_OP( 11, p.machhuN, 0, 65535, 1, 1, 1 )
  TEST_RRR_UIMM5_OP( 12, p.machhuN, 1073741823, 65535, 65535, 4294967295, 2 )
  TEST_RRR_UIMM5_OP( 13, p.machhuN, 1, 65535, 65535, 4294967295, 31 )
  TEST_RRR_UIMM5_OP( 14, p.machhuN, 11194882, 230330474, 1109929081, 2806376888, 8 )
  TEST_RRR_UIMM5_OP( 15, p.machhuN, 735, 3915647041, 3200255256, 3249859092, 23 )
  TEST_RRR_UIMM5_OP( 16, p.machhuN, 4002029015, 850748137, 2589987631, 3489019895, 0 )
  TEST_RRR_UIMM5_OP( 17, p.machhuN, 24, 3607316055, 760349989, 177000111, 25 )
  TEST_RRR_UIMM5_OP( 18, p.machhuN, 74, 97685286, 3866661366, 224764952, 22 )
  TEST_RRR_UIMM5_OP( 19, p.machhuN, 1, 2454496175, 1830863073, 3078121547, 31 )
  TEST_RRR_UIMM5_OP( 20, p.machhuN, 1045736013, 3490171191, 3130186121, 2797137999, 0 )
  TEST_RRR_UIMM5_OP( 21, p.machhuN, 1, 381203797, 3995113461, 3878946406, 31 )
  TEST_RRR_UIMM5_OP( 22, p.machhuN, 4400, 2077264438, 143719070, 2237471126, 19 )
  TEST_RRR_UIMM5_OP( 23, p.machhuN, 33060, 3055459519, 1383046822, 99458021, 15 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 24, p.machhuN, 117479263, 4202041102, 3390040516, 6 )
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 25, p.machhuN, 6201582, 3563423350, 3359241487, 10 )
  
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 26, p.machhuN, 1279, 1031183998, 1081674125, 20 )
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 27, p.machhuN, 51302053, 3508064213, 1807243306, 6 )
  
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 28, p.machhuN, 1151824181, 1661177954, 1 )
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 29, p.machhuN, 16929, 914691453, 16 )
  
  TEST_RRR_UIMM5_DEST_BYPASS( 48, 0, p.machhuN, 515, 4030251734, 876388877, 258425599, 21 )
  TEST_RRR_UIMM5_DEST_BYPASS( 49, 1, p.machhuN, 78, 379765707, 1867926766, 2455622847, 25 )
  TEST_RRR_UIMM5_DEST_BYPASS( 50, 2, p.machhuN, 23368599, 4063333925, 995841651, 2049075556, 7 )
  TEST_RRR_UIMM5_DEST_BYPASS( 51, 0, p.machhuN, 15368937, 4168447772, 452735961, 544228674, 6 )
  TEST_RRR_UIMM5_DEST_BYPASS( 52, 1, p.machhuN, 16707, 293943100, 1739355640, 4260654973, 18 )
  TEST_RRR_UIMM5_DEST_BYPASS( 53, 2, p.machhuN, 557578945, 2833862360, 1251409003, 3634987909, 3 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 54, 0, p.machhuN, 1406541, 2377685904, 2331548832, 149601592, 10 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 55, 1, p.machhuN, 51, 257144622, 57319396, 3474513261, 26 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 56, 2, p.machhuN, 2332939092, 4006857083, 1340723341, 1082218569, 0 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 57, 0, p.machhuN, 6, 3557787673, 1956165907, 1772518787, 29 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 58, 1, p.machhuN, 1587721508, 4125231991, 204328577, 1391518826, 0 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 59, 2, p.machhuN, 19, 1704293368, 1122425386, 2191743725, 27 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.machhuN, 251, 1230658381, 4079132968, 937601690, 23 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.machhuN, 2, 1877574407, 3892002970, 2985640805, 31 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.machhuN, 16, 3547123569, 1318788889, 33919765, 26 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.machhuN, 1077, 750061910, 1591970965, 4240848599, 22 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.machhuN, 1707, 4028225301, 3807400203, 3590507026, 22 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.machhuN, 13009, 1487031922, 1848665578, 2770292784, 18 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.machhuN, 30, 1252571444, 3455333530, 3106320490, 27 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.machhuN, 1420, 2830003017, 3040668039, 976242204, 21 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.machhuN, 53, 355459985, 769501293, 3511459372, 26 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.machhuN, 13352011, 1414995095, 3085249078, 2401675555, 8 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.machhuN, 4488905, 894716903, 2200000472, 4138355473, 10 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.machhuN, 185776, 3436127505, 3876776143, 2986022976, 15 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.machhuN, 824, 829468439, 1166733355, 3233067533, 22 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.machhuN, 116195338, 2353012377, 4180032178, 1428221915, 5 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.machhuN, 130787716, 342689120, 4197766717, 3850279005, 5 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.machhuN, 3322040, 4063487488, 3727760430, 3276746768, 11 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.machhuN, 624, 2753127850, 403186965, 68950739, 19 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.machhuN, 205144286, 2924322812, 435614773, 1344603129, 3 )
  
  

  TEST_RRR_UIMM5_ZEROSRC1( 60, p.machhuN, 1005492, 915667656, 4118496598, 12 )
  TEST_RRR_UIMM5_ZEROSRC1( 61, p.machhuN, 15782, 253507619, 4137356802, 18 )
  
  TEST_RRR_UIMM5_ZEROSRC2( 62, p.machhuN, 92756, 2215703363, 759864350, 13 )
  TEST_RRR_UIMM5_ZEROSRC2( 63, p.machhuN, 594, 2434790014, 1247039876, 21 )
  
  TEST_RRR_UIMM5_ZEROSRC3( 64, p.machhuN, 635036756, 3831008867, 2847825177, 2 )
  TEST_RRR_UIMM5_ZEROSRC3( 65, p.machhuN, 15427, 793605107, 1368030351, 14 )
  
  TEST_RRR_UIMM5_ZEROSRC12( 66, p.machhuN, 96, 1615770572, 24 )
  TEST_RRR_UIMM5_ZEROSRC12( 67, p.machhuN, 173448604, 1387588835, 3 )
  
  TEST_RRR_UIMM5_ZEROSRC123( 68, p.machhuN, 0, 12 )
  TEST_RRR_UIMM5_ZEROSRC123( 69, p.machhuN, 0, 12 )
  
  TEST_RRR_UIMM5_ZERODEST( 70, p.machhuN, 1046110352, 2524734843, 2 )
  TEST_RRR_UIMM5_ZERODEST( 71, p.machhuN, 4290796346, 3549254178, 15 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
