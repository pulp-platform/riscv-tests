# See LICENSE for license details.

#*****************************************************************************
# p.machhsRN
#-----------------------------------------------------------------------------
#
# Test p.machhsRN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_OP( 2, p.machhsRN, 0, 0, 0, 0, 0 )
  TEST_RRR_UIMM5_OP( 3, p.machhsRN, 0, 0, 0, 0, 31 )
  TEST_RRR_UIMM5_OP( 4, p.machhsRN, 2147483647, 0, 0, 2147483647, 0 )
  TEST_RRR_UIMM5_OP( 5, p.machhsRN, 1, 0, 0, 2147483647, 31 )
  TEST_RRR_UIMM5_OP( 6, p.machhsRN, -2147483648, 0, 0, -2147483648, 0 )
  TEST_RRR_UIMM5_OP( 7, p.machhsRN, -1, 0, 0, -2147483648, 31 )
  TEST_RRR_UIMM5_OP( 8, p.machhsRN, 1, 0, 2147483647, 1, 0 )
  TEST_RRR_UIMM5_OP( 9, p.machhsRN, 1, 2147450879, 1, 1, 0 )
  TEST_RRR_UIMM5_OP( 10, p.machhsRN, 1, 2147483647, 0, 1, 0 )
  TEST_RRR_UIMM5_OP( 11, p.machhsRN, 1, 32767, 2147581951, 1, 0 )
  TEST_RRR_UIMM5_OP( 12, p.machhsRN, 1, 32767, 2147516415, 1, 0 )
  TEST_RRR_UIMM5_OP( 13, p.machhsRN, 1, 32767, 1, 1, 1 )
  TEST_RRR_UIMM5_OP( 14, p.machhsRN, 536870912, 32767, 32767, 2147483647, 2 )
  TEST_RRR_UIMM5_OP( 15, p.machhsRN, 1, 32767, 32767, 2147483647, 31 )
  TEST_RRR_UIMM5_OP( 16, p.machhsRN, 2147483647, -32768, 1, 2147483647, 0 )
  TEST_RRR_UIMM5_OP( 17, p.machhsRN, -11730, 1062097586, 1036992165, -1025143937, 16 )
  TEST_RRR_UIMM5_OP( 18, p.machhsRN, 11398479, 1961589972, 1865561198, 2065994829, 8 )
  TEST_RRR_UIMM5_OP( 19, p.machhsRN, 842, 679493449, -1453436074, 1996702081, 21 )
  TEST_RRR_UIMM5_OP( 20, p.machhsRN, 13, -295089336, 1329779614, 1865555260, 27 )
  TEST_RRR_UIMM5_OP( 21, p.machhsRN, -1475075, 1720766061, 1043637044, -1928576918, 10 )
  TEST_RRR_UIMM5_OP( 22, p.machhsRN, 402, 50160598, 442714589, 837129649, 21 )
  TEST_RRR_UIMM5_OP( 23, p.machhsRN, -96350, -453576715, 1752764238, -1393475644, 14 )
  TEST_RRR_UIMM5_OP( 24, p.machhsRN, -122, 1619258776, -887602486, -684587245, 23 )
  TEST_RRR_UIMM5_OP( 25, p.machhsRN, -6191, 1883250986, 819330628, -1982161590, 18 )
  TEST_RRR_UIMM5_OP( 26, p.machhsRN, 1643, -2032860887, 499902247, 1959264863, 20 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 27, p.machhsRN, -9852913, -1872097954, 1491812630, 8 )
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 28, p.machhsRN, 2852, 2120752775, -1267254023, 19 )
  
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 29, p.machhsRN, 15129204, -1976614608, 1793775595, 6 )
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 30, p.machhsRN, -326476693, 1475793725, -971942314, 2 )
  
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 31, p.machhsRN, 15499333, 449042453, 5 )
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 32, p.machhsRN, -1, -2053602190, 30 )
  
  TEST_RRR_UIMM5_DEST_BYPASS( 51, 0, p.machhsRN, 20499138, -1830543496, 676252401, 944174796, 5 )
  TEST_RRR_UIMM5_DEST_BYPASS( 52, 1, p.machhsRN, 12976, 612079697, -943522647, 984880463, 16 )
  TEST_RRR_UIMM5_DEST_BYPASS( 53, 2, p.machhsRN, 44720967, 22459903, 1040258883, 39292401, 0 )
  TEST_RRR_UIMM5_DEST_BYPASS( 54, 0, p.machhsRN, -12799, -1648701675, 1749295460, -1006089869, 17 )
  TEST_RRR_UIMM5_DEST_BYPASS( 55, 1, p.machhsRN, 162, -1867974702, -1575640903, -7733575, 22 )
  TEST_RRR_UIMM5_DEST_BYPASS( 56, 2, p.machhsRN, 43, 622105017, -555845990, 803737702, 24 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 57, 0, p.machhsRN, 2450, 2031235069, -1010588305, 1762308084, 19 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 58, 1, p.machhsRN, -31764, 2140939379, -852249288, -615980925, 15 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 59, 2, p.machhsRN, 26, -1077450108, -1914928967, 1283817176, 26 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 60, 0, p.machhsRN, 23634, -900133046, -1534265240, -127953661, 13 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 61, 1, p.machhsRN, -12038, -836394856, 1750367370, -53574657, 15 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 62, 2, p.machhsRN, -4319, -987413054, -647269266, -1280897044, 18 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC12_BYPASS( 33, 0, 0, p.machhsRN, 35737, 691809901, -706132875, 699261891, 14 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 34, 0, 1, p.machhsRN, -101, -297718381, -1748054252, -968317192, 23 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 35, 0, 2, p.machhsRN, 55, 183670149, 1354003071, 1789292006, 25 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 36, 1, 0, p.machhsRN, 503, -1703197905, -660026137, 265800536, 20 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 37, 1, 1, p.machhsRN, 2929, 1628416488, -1454636865, 2087028624, 19 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 38, 1, 2, p.machhsRN, -6998164, -1613063578, -206289566, -1869014871, 8 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 39, 2, 0, p.machhsRN, 663242010, 1237383477, 1226296875, 309978330, 0 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 40, 2, 1, p.machhsRN, 1, -1412429513, -1841189055, 1646626174, 31 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 41, 2, 2, p.machhsRN, 0, -1664333663, 2056241995, 714948309, 31 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 42, 0, 0, p.machhsRN, 728223, -175035756, -1754583192, 674189342, 10 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 43, 0, 1, p.machhsRN, 31737767, 1383164989, 513577485, 1865838279, 6 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 44, 0, 2, p.machhsRN, -44, 1477878164, 1019505604, -1093370108, 24 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 45, 1, 0, p.machhsRN, 1529032, -633495202, -2100185193, 1255930036, 10 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 46, 1, 1, p.machhsRN, 406, -111169162, 994764663, 238596499, 19 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 47, 1, 2, p.machhsRN, 3, -815906085, 1151674280, 1077708942, 28 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 48, 2, 0, p.machhsRN, -13, 161910416, 75299092, -851390659, 26 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 49, 2, 1, p.machhsRN, -12683, 985617366, 1590878565, -2027412644, 17 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 50, 2, 2, p.machhsRN, 5, 2090286281, 1694617729, -465604583, 26 )
  
  

  TEST_RRR_UIMM5_ZEROSRC1( 63, p.machhsRN, -783823, -1377086259, -1605270091, 11 )
  TEST_RRR_UIMM5_ZEROSRC1( 64, p.machhsRN, 6839, 1716026963, 448208671, 16 )
  
  TEST_RRR_UIMM5_ZEROSRC2( 65, p.machhsRN, -7, -765528575, -1983004197, 28 )
  TEST_RRR_UIMM5_ZEROSRC2( 66, p.machhsRN, 236480290, 410825758, 1891842322, 3 )
  
  TEST_RRR_UIMM5_ZEROSRC3( 67, p.machhsRN, -5, 498894715, -676751823, 24 )
  TEST_RRR_UIMM5_ZEROSRC3( 68, p.machhsRN, 59077, 617712805, 1682609531, 12 )
  
  TEST_RRR_UIMM5_ZEROSRC12( 69, p.machhsRN, -2509, -657626748, 18 )
  TEST_RRR_UIMM5_ZEROSRC12( 70, p.machhsRN, 1, 1426867350, 31 )
  
  TEST_RRR_UIMM5_ZEROSRC123( 71, p.machhsRN, 0, 20 )
  TEST_RRR_UIMM5_ZEROSRC123( 72, p.machhsRN, 0, 4 )
  
  TEST_RRR_UIMM5_ZERODEST( 73, p.machhsRN, -270598340, -464080570, 30 )
  TEST_RRR_UIMM5_ZERODEST( 74, p.machhsRN, 1061797005, -595627041, 27 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
