# See LICENSE for license details.

#*****************************************************************************
# p.macuN
#-----------------------------------------------------------------------------
#
# Test p.macuN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_OP( 2, p.macuN, 0, 0, 0, 0, 0 )
  TEST_RRR_UIMM5_OP( 3, p.macuN, 0, 0, 0, 0, 31 )
  #TEST_RRR_UIMM5_OP( 4, p.macuN, 4294967295, 0, 0, 4294967295, 0 )
  #TEST_RRR_UIMM5_OP( 4, p.macuN, 0xFFFFFFFF, 0, 0, 0xFFFFFFFF, 0 )
  TEST_RRR_UIMM5_OP( 102, p.macuN, 0x0FFFFFFFF, 0, 0, 0x0FFFFFFFF, 0 )
  TEST_RRR_UIMM5_OP( 5, p.macuN, 1, 0, 0, 4294967295, 31 )
  TEST_RRR_UIMM5_OP( 6, p.macuN, 1, 0, 4294967295, 1, 0 )
  TEST_RRR_UIMM5_OP( 7, p.macuN, 32769, 4294934528, 1, 1, 0 )
  TEST_RRR_UIMM5_OP( 8, p.macuN, 1, 4294967295, 0, 1, 0 )
  TEST_RRR_UIMM5_OP( 9, p.macuN, 65536, 65535, 4294901761, 1, 0 )
  TEST_RRR_UIMM5_OP( 10, p.macuN, 1, 65535, 4294901760, 1, 0 )
  TEST_RRR_UIMM5_OP( 11, p.macuN, 32768, 65535, 1, 1, 1 )
  TEST_RRR_UIMM5_OP( 12, p.macuN, 2147450880, 65535, 65535, 4294967295, 2 )
  TEST_RRR_UIMM5_OP( 13, p.macuN, 3, 65535, 65535, 4294967295, 31 )
  TEST_RRR_UIMM5_OP( 14, p.macuN, 59, 1812936674, 3771622445, 1631870978, 25 )
  TEST_RRR_UIMM5_OP( 15, p.macuN, 255680657, 3020825550, 2497745798, 3744727366, 4 )
  TEST_RRR_UIMM5_OP( 16, p.macuN, 104161269, 3658813369, 2744949469, 257073952, 2 )
  TEST_RRR_UIMM5_OP( 17, p.macuN, 1, 2556376904, 216771427, 3610142094, 31 )
  TEST_RRR_UIMM5_OP( 18, p.macuN, 31550730, 3686423118, 4252178894, 3885776058, 7 )
  TEST_RRR_UIMM5_OP( 19, p.macuN, 2814, 3057050875, 3908817228, 2761755290, 21 )
  TEST_RRR_UIMM5_OP( 20, p.macuN, 207, 1220974806, 3042089575, 1926991213, 24 )
  TEST_RRR_UIMM5_OP( 21, p.macuN, 449563726, 1094216365, 2470606805, 960496713, 2 )
  TEST_RRR_UIMM5_OP( 22, p.macuN, 6327982, 2449617087, 665361723, 2737634930, 9 )
  TEST_RRR_UIMM5_OP( 23, p.macuN, 22, 389163214, 3940477436, 2350095238, 27 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 24, p.macuN, 0, 1452803519, 1531904076, 31 )
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 25, p.macuN, 55343871, 2937416007, 1685936033, 6 )
  
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 26, p.macuN, 464330952, 1583807077, 820359264, 3 )
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 27, p.macuN, 8786, 312888901, 1637056996, 18 )
  
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 28, p.macuN, 9, 3280252695, 29 )
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 29, p.macuN, 518081, 3183640373, 13 )
  
  TEST_RRR_UIMM5_DEST_BYPASS( 48, 0, p.macuN, 41985621, 2564158352, 3338947241, 1495345991, 6 )
  TEST_RRR_UIMM5_DEST_BYPASS( 49, 1, p.macuN, 10654, 1063313405, 437606002, 1523957461, 18 )
  TEST_RRR_UIMM5_DEST_BYPASS( 50, 2, p.macuN, 654079806, 1399300838, 3409179258, 27709276, 2 )
  TEST_RRR_UIMM5_DEST_BYPASS( 51, 0, p.macuN, 2112, 3166694942, 1022575686, 1149274360, 20 )
  TEST_RRR_UIMM5_DEST_BYPASS( 52, 1, p.macuN, 29820, 2133669481, 3550449585, 3396247426, 17 )
  TEST_RRR_UIMM5_DEST_BYPASS( 53, 2, p.macuN, 707, 877335846, 3245304760, 2816278390, 22 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 54, 0, p.macuN, 61, 593104771, 2255562202, 2036644672, 25 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 55, 1, p.macuN, 15, 2189999329, 1969478968, 1416827070, 28 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 56, 2, p.macuN, 151498, 1952441024, 4180835335, 3121211571, 15 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 57, 0, p.macuN, 6059, 1859244734, 4276141045, 3757481683, 20 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 58, 1, p.macuN, 378, 2026205929, 552241512, 2136814053, 23 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 59, 2, p.macuN, 12, 151711479, 978006165, 923039310, 27 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.macuN, 1105, 3454580860, 1436083776, 1851963323, 22 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.macuN, 391864565, 2071534580, 4113598693, 1316676243, 2 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.macuN, 7206, 2388616223, 3979301510, 1347744397, 18 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.macuN, 53408749, 1254675061, 2424363957, 387848080, 6 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.macuN, 4676973, 4202709441, 4030034164, 710562262, 8 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.macuN, 349, 1733798310, 442910932, 656493447, 22 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.macuN, 21, 716784467, 2397992896, 919053136, 26 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.macuN, 20, 2597122480, 2880888569, 1938033996, 28 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.macuN, 28244, 2929908048, 3688127848, 2371784338, 17 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.macuN, 8504705, 2112317739, 295925353, 272485398, 7 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.macuN, 2, 1635515678, 537959517, 1881487853, 31 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.macuN, 4655, 3589880769, 2684562481, 2267856015, 19 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.macuN, 26, 1553981766, 2285492289, 3807897047, 28 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.macuN, 2, 2207413241, 2145947419, 1128419793, 30 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.macuN, 1131, 1957460471, 632886875, 1007363425, 20 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.macuN, 2182523332, 3206823878, 2689368650, 3820509261, 1 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.macuN, 47, 2952478099, 950226761, 2836369798, 26 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.macuN, 3, 1706020564, 326884479, 4039476762, 31 )
  
  

  TEST_RRR_UIMM5_ZEROSRC1( 60, p.macuN, 761, 4234764019, 1596781741, 21 )
  TEST_RRR_UIMM5_ZEROSRC1( 61, p.macuN, 44, 3813502548, 371301463, 23 )
  
  TEST_RRR_UIMM5_ZEROSRC2( 62, p.macuN, 12703553, 3632502252, 3252109740, 8 )
  TEST_RRR_UIMM5_ZEROSRC2( 63, p.macuN, 463688988, 704858157, 3709511904, 3 )
  
  TEST_RRR_UIMM5_ZEROSRC3( 64, p.macuN, 1291244, 140274736, 1541847677, 10 )
  TEST_RRR_UIMM5_ZEROSRC3( 65, p.macuN, 10367, 1622519390, 3725686507, 17 )
  
  TEST_RRR_UIMM5_ZEROSRC12( 66, p.macuN, 976, 2047846150, 21 )
  TEST_RRR_UIMM5_ZEROSRC12( 67, p.macuN, 575350508, 1150701017, 1 )
  
  TEST_RRR_UIMM5_ZEROSRC123( 68, p.macuN, 0, 9 )
  TEST_RRR_UIMM5_ZEROSRC123( 69, p.macuN, 0, 23 )
  
  TEST_RRR_UIMM5_ZERODEST( 70, p.macuN, 2058242623, 4075104555, 25 )
  TEST_RRR_UIMM5_ZERODEST( 71, p.macuN, 2264776571, 1540111634, 27 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
