# See LICENSE for license details.

#*****************************************************************************
# p.machhuRN
#-----------------------------------------------------------------------------
#
# Test p.machhuRN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_OP( 2, p.machhuRN, 0, 0, 0, 0, 0 )
  TEST_RRR_UIMM5_OP( 3, p.machhuRN, 0, 0, 0, 0, 31 )
  TEST_RRR_UIMM5_OP( 4, p.machhuRN, 4294967295, 0, 0, 4294967295, 0 )
  TEST_RRR_UIMM5_OP( 5, p.machhuRN, 2, 0, 0, 4294967295, 31 )
  TEST_RRR_UIMM5_OP( 6, p.machhuRN, 1, 0, 4294967295, 1, 0 )
  TEST_RRR_UIMM5_OP( 7, p.machhuRN, 1, 2147549183, 1, 1, 0 )
  TEST_RRR_UIMM5_OP( 8, p.machhuRN, 1, 4294967295, 0, 1, 0 )
  TEST_RRR_UIMM5_OP( 9, p.machhuRN, 1, 65535, 131071, 1, 0 )
  TEST_RRR_UIMM5_OP( 10, p.machhuRN, 1, 65535, 65535, 1, 0 )
  TEST_RRR_UIMM5_OP( 11, p.machhuRN, 1, 65535, 1, 1, 1 )
  TEST_RRR_UIMM5_OP( 12, p.machhuRN, 1073741824, 65535, 65535, 4294967295, 2 )
  TEST_RRR_UIMM5_OP( 13, p.machhuRN, 2, 65535, 65535, 4294967295, 31 )
  TEST_RRR_UIMM5_OP( 14, p.machhuRN, 2, 1212276071, 2529030905, 2618825853, 31 )
  TEST_RRR_UIMM5_OP( 15, p.machhuRN, 5, 2615684345, 1377944776, 2026537412, 29 )
  TEST_RRR_UIMM5_OP( 16, p.machhuRN, 3, 3940993337, 1131682315, 811577896, 29 )
  TEST_RRR_UIMM5_OP( 17, p.machhuRN, 117, 3703188678, 2639798218, 1645609929, 25 )
  TEST_RRR_UIMM5_OP( 18, p.machhuRN, 79121, 4103290103, 2624283161, 2678140786, 16 )
  TEST_RRR_UIMM5_OP( 19, p.machhuRN, 54263327, 82046849, 3123071788, 1676811313, 5 )
  TEST_RRR_UIMM5_OP( 20, p.machhuRN, 191173776, 937228375, 3223057419, 2355520708, 4 )
  TEST_RRR_UIMM5_OP( 21, p.machhuRN, 220730429, 3718387468, 402943966, 3182861644, 4 )
  TEST_RRR_UIMM5_OP( 22, p.machhuRN, 35, 2241997282, 1003637619, 4135382892, 27 )
  TEST_RRR_UIMM5_OP( 23, p.machhuRN, 170, 2701602533, 2802423698, 1088102796, 24 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 24, p.machhuRN, 14, 3526453912, 368948646, 28 )
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 25, p.machhuRN, 829778099, 3898842715, 3017799673, 3 )
  
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 26, p.machhuRN, 197160, 2481466543, 4094764424, 15 )
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 27, p.machhuRN, 244908, 681121012, 3463349627, 14 )
  
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 28, p.machhuRN, 2179720098, 1590638657, 0 )
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 29, p.machhuRN, 0, 36503378, 28 )
  
  TEST_RRR_UIMM5_DEST_BYPASS( 48, 0, p.machhuRN, 1, 3213797500, 2337183995, 1411280641, 31 )
  TEST_RRR_UIMM5_DEST_BYPASS( 49, 1, p.machhuRN, 245292, 3139616813, 4146992649, 987464153, 14 )
  TEST_RRR_UIMM5_DEST_BYPASS( 50, 2, p.machhuRN, 2061614, 3308807816, 4080529034, 1078651701, 11 )
  TEST_RRR_UIMM5_DEST_BYPASS( 51, 0, p.machhuRN, 269240386, 782781415, 529280622, 4211386426, 4 )
  TEST_RRR_UIMM5_DEST_BYPASS( 52, 1, p.machhuRN, 67, 748241793, 759834341, 993423685, 24 )
  TEST_RRR_UIMM5_DEST_BYPASS( 53, 2, p.machhuRN, 627, 3792559190, 1224006633, 1549484698, 22 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 54, 0, p.machhuRN, 641488, 3735411366, 2010004447, 3506975767, 13 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 55, 1, p.machhuRN, 11578, 1619900853, 306110311, 1402084411, 17 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 56, 2, p.machhuRN, 73, 729811435, 3337548025, 665215152, 24 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 57, 0, p.machhuRN, 341287, 2422297149, 3425072070, 864169697, 13 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 58, 1, p.machhuRN, 2, 3989128742, 1702895271, 2364479271, 31 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 59, 2, p.machhuRN, 9134, 2982961401, 1650932269, 3642256605, 19 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.machhuRN, 187638, 2480409002, 3980592363, 775407256, 14 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.machhuRN, 6118478, 2330473824, 3627083911, 1164627964, 9 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.machhuRN, 734517, 3503043627, 2984303285, 3583169535, 13 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.machhuRN, 10, 29970893, 166045174, 336335231, 25 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.machhuRN, 116423, 381111163, 1210110463, 846370742, 13 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.machhuRN, 235436, 3050903391, 3143907498, 1624146001, 14 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.machhuRN, 65451747, 844199936, 764706130, 1944160408, 5 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.machhuRN, 4766820, 789317137, 3281854379, 4278096337, 10 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.machhuRN, 1050878, 1941585486, 54601825, 4279718673, 12 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.machhuRN, 102186, 3114940987, 319857740, 605159759, 13 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.machhuRN, 83, 2272380740, 531973745, 2508668842, 25 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.machhuRN, 199286, 1033449316, 3936164813, 685449682, 13 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.machhuRN, 31, 1159316416, 403384225, 405537969, 24 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.machhuRN, 113, 1600250184, 2941976943, 2707870048, 25 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.machhuRN, 3959907692, 2306605702, 3054831243, 2319316544, 0 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.machhuRN, 8504396, 2508681466, 4184650043, 1910060176, 9 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.machhuRN, 202818, 2899422144, 1504257089, 2307501329, 14 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.machhuRN, 4, 2495824757, 2407035236, 551587847, 29 )
  
  

  TEST_RRR_UIMM5_ZEROSRC1( 60, p.machhuRN, 4130024, 295365430, 2114572441, 9 )
  TEST_RRR_UIMM5_ZEROSRC1( 61, p.machhuRN, 3, 2908979822, 2853598802, 30 )
  
  TEST_RRR_UIMM5_ZEROSRC2( 62, p.machhuRN, 12708494, 1680630267, 3253374409, 8 )
  TEST_RRR_UIMM5_ZEROSRC2( 63, p.machhuRN, 143622, 1436644551, 588276590, 12 )
  
  TEST_RRR_UIMM5_ZEROSRC3( 64, p.machhuRN, 31339, 2583189044, 1707445524, 15 )
  TEST_RRR_UIMM5_ZEROSRC3( 65, p.machhuRN, 1, 1985774632, 2585038581, 30 )
  
  TEST_RRR_UIMM5_ZEROSRC12( 66, p.machhuRN, 40522119, 162088475, 2 )
  TEST_RRR_UIMM5_ZEROSRC12( 67, p.machhuRN, 1, 2699333209, 31 )
  
  TEST_RRR_UIMM5_ZEROSRC123( 68, p.machhuRN, 0, 15 )
  TEST_RRR_UIMM5_ZEROSRC123( 69, p.machhuRN, 0, 3 )
  
  TEST_RRR_UIMM5_ZERODEST( 70, p.machhuRN, 3489405393, 3553492151, 0 )
  TEST_RRR_UIMM5_ZERODEST( 71, p.machhuRN, 2141765017, 2390324885, 7 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
