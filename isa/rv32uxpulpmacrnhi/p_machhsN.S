# See LICENSE for license details.

#*****************************************************************************
# p.machhsN
#-----------------------------------------------------------------------------
#
# Test p.machhsN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_OP( 2, p.machhsN, 0, 0, 0, 0, 0 )
  TEST_RRR_UIMM5_OP( 3, p.machhsN, 0, 0, 0, 0, 31 )
  TEST_RRR_UIMM5_OP( 4, p.machhsN, 2147483647, 0, 0, 2147483647, 0 )
  TEST_RRR_UIMM5_OP( 5, p.machhsN, 0, 0, 0, 2147483647, 31 )
  TEST_RRR_UIMM5_OP( 6, p.machhsN, -2147483648, 0, 0, -2147483648, 0 )
  TEST_RRR_UIMM5_OP( 7, p.machhsN, -1, 0, 0, -2147483648, 31 )
  TEST_RRR_UIMM5_OP( 8, p.machhsN, 1, 0, 2147483647, 1, 0 )
  TEST_RRR_UIMM5_OP( 9, p.machhsN, 1, 2147450879, 1, 1, 0 )
  TEST_RRR_UIMM5_OP( 10, p.machhsN, 1, 2147483647, 0, 1, 0 )
  TEST_RRR_UIMM5_OP( 11, p.machhsN, 1, 32767, 2147581951, 1, 0 )
  TEST_RRR_UIMM5_OP( 12, p.machhsN, 1, 32767, 2147516415, 1, 0 )
  TEST_RRR_UIMM5_OP( 13, p.machhsN, 0, 32767, 1, 1, 1 )
  TEST_RRR_UIMM5_OP( 14, p.machhsN, 536870911, 32767, 32767, 2147483647, 2 )
  TEST_RRR_UIMM5_OP( 15, p.machhsN, 0, 32767, 32767, 2147483647, 31 )
  TEST_RRR_UIMM5_OP( 16, p.machhsN, 2147483647, -32768, 1, 2147483647, 0 )
  TEST_RRR_UIMM5_OP( 17, p.machhsN, -10484642, 847509566, -779213373, 69872458, 3 )
  TEST_RRR_UIMM5_OP( 18, p.machhsN, 4339797, -2032958643, -310249966, 2075092027, 9 )
  TEST_RRR_UIMM5_OP( 19, p.machhsN, 1346870, -247284697, 144814448, 180736250, 7 )
  TEST_RRR_UIMM5_OP( 20, p.machhsN, 3, 1494195250, 1472319419, 1270360701, 29 )
  TEST_RRR_UIMM5_OP( 21, p.machhsN, 1073893527, -393012523, -1117230086, 971656671, 0 )
  TEST_RRR_UIMM5_OP( 22, p.machhsN, 14343109, 1554774830, -895503081, 1242133795, 6 )
  TEST_RRR_UIMM5_OP( 23, p.machhsN, -8114358, 170323620, 1697099741, -586594096, 6 )
  TEST_RRR_UIMM5_OP( 24, p.machhsN, 86, 268195276, -1114839816, 1521727589, 24 )
  TEST_RRR_UIMM5_OP( 25, p.machhsN, -1, -1136005684, 1513397348, -86629291, 29 )
  TEST_RRR_UIMM5_OP( 26, p.machhsN, 80145, 269622301, -731688025, 1359035928, 14 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 27, p.machhsN, -34, -1437794152, -926984507, 25 )
  TEST_RRR_UIMM5_SRC1_EQ_DEST( 28, p.machhsN, -3, -1310112872, -624687166, 29 )
  
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 29, p.machhsN, 146, -431229152, 1362957906, 23 )
  TEST_RRR_UIMM5_SRC2_EQ_DEST( 30, p.machhsN, -6678517, 1216645841, -1332293979, 8 )
  
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 31, p.machhsN, 1311, 603027928, 19 )
  TEST_RRR_UIMM5_SRC12_EQ_DEST( 32, p.machhsN, -104940, -1188618995, 13 )
  
  TEST_RRR_UIMM5_DEST_BYPASS( 51, 0, p.machhsN, -12587, 1870791546, -2102809132, -733788707, 17 )
  TEST_RRR_UIMM5_DEST_BYPASS( 52, 1, p.machhsN, 684736, -932206539, -146448284, 1370547544, 11 )
  TEST_RRR_UIMM5_DEST_BYPASS( 53, 2, p.machhsN, 498498734, -1437569477, -950234443, 1675922937, 2 )
  TEST_RRR_UIMM5_DEST_BYPASS( 54, 0, p.machhsN, 2661245, 599510273, 1872353875, 1101236921, 9 )
  TEST_RRR_UIMM5_DEST_BYPASS( 55, 1, p.machhsN, -30016799, -534261401, 111038004, -946726375, 5 )
  TEST_RRR_UIMM5_DEST_BYPASS( 56, 2, p.machhsN, -1, 1152866312, -35860486, -1891947304, 31 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 57, 0, p.machhsN, -165, -2060010229, -468135794, -914715100, 22 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 58, 1, p.machhsN, -58, -80028222, 1125053368, -1893287390, 25 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 59, 2, p.machhsN, -129867, 1447840988, 1561456029, -1058275855, 12 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 60, 0, p.machhsN, -24942451, -1732200555, 1586138884, -158451168, 5 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 61, 1, p.machhsN, 258708, 1478579856, 1872265354, 415147104, 12 )
  TEST_RRR_UIMM5_SRC3_BYPASS( 62, 2, p.machhsN, -761195646, 1890154704, -188000280, -1439646462, 1 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_UIMM5_SRC12_BYPASS( 33, 0, 0, p.machhsN, 575, -413196014, -1808762027, 429477522, 20 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 34, 0, 1, p.machhsN, 0, -726900185, -1785892763, 768139012, 31 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 35, 0, 2, p.machhsN, 1608001002, -1560302318, -1934976494, 905016468, 0 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 36, 1, 0, p.machhsN, -87816037, 1596064128, 222940189, -170643991, 0 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 37, 1, 1, p.machhsN, -3, 1502087410, -1374593674, 204200064, 27 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 38, 1, 2, p.machhsN, 473, -1667690798, -896218417, 1636245182, 22 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 39, 2, 0, p.machhsN, -5, -1826243128, 1831588100, 185673537, 27 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 40, 2, 1, p.machhsN, 0, -438469098, 2025704948, 302823799, 29 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 41, 2, 2, p.machhsN, -178242489, 513132681, -2137715428, -1170565755, 3 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 42, 0, 0, p.machhsN, -274108, 1580550867, -336074919, -437675882, 11 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 43, 0, 1, p.machhsN, -18, 323692124, -1892061065, -151996731, 24 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 44, 0, 2, p.machhsN, -180834225, -326098787, 296101890, -339186882, 1 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 45, 1, 0, p.machhsN, -8, 1693616957, 426745329, -424040913, 25 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 46, 1, 1, p.machhsN, -178293920, -1805832080, 1892094532, 82364725, 2 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 47, 1, 2, p.machhsN, 5, -1158551177, -1814557399, -128238573, 26 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 48, 2, 0, p.machhsN, 0, 1183115175, 1043985465, -147282508, 31 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 49, 2, 1, p.machhsN, 1315950227, -1533221765, 1557600285, 1872002959, 0 )
  TEST_RRR_UIMM5_SRC12_BYPASS( 50, 2, 2, p.machhsN, 41696, -1676974260, 563803890, 1586428612, 15 )
  
  

  TEST_RRR_UIMM5_ZEROSRC1( 63, p.machhsN, -66002, -366157906, -1081374816, 14 )
  TEST_RRR_UIMM5_ZEROSRC1( 64, p.machhsN, -6776152, 1517321135, -1734694744, 8 )
  
  TEST_RRR_UIMM5_ZEROSRC2( 65, p.machhsN, -299902056, -379640648, -299902056, 0 )
  TEST_RRR_UIMM5_ZEROSRC2( 66, p.machhsN, 766, -766910707, 1606891004, 21 )
  
  TEST_RRR_UIMM5_ZEROSRC3( 67, p.machhsN, 0, -1226051506, -111315942, 27 )
  TEST_RRR_UIMM5_ZEROSRC3( 68, p.machhsN, 22056, 1092832814, 355109249, 12 )
  
  TEST_RRR_UIMM5_ZEROSRC12( 69, p.machhsN, 47, 395245577, 23 )
  TEST_RRR_UIMM5_ZEROSRC12( 70, p.machhsN, 338477, 1386403004, 12 )
  
  TEST_RRR_UIMM5_ZEROSRC123( 71, p.machhsN, 0, 17 )
  TEST_RRR_UIMM5_ZEROSRC123( 72, p.machhsN, 0, 31 )
  
  TEST_RRR_UIMM5_ZERODEST( 73, p.machhsN, 477589305, -1626041387, 29 )
  TEST_RRR_UIMM5_ZERODEST( 74, p.machhsN, -1777298360, 704886637, 1 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
