# See LICENSE for license details.

#*****************************************************************************
# p.addRN
#-----------------------------------------------------------------------------
#
# Test p.addRN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_OP( 2, p.addRN, 0, 0, 0, 0 )
  TEST_RR_UIMM5_OP( 3, p.addRN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 4, p.addRN, 1, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 5, p.addRN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 6, p.addRN, -2147483648, 2147483647, 1, 0 )
  TEST_RR_UIMM5_OP( 7, p.addRN, -2147483647, -2147483648, 1, 0 )
  TEST_RR_UIMM5_OP( 8, p.addRN, -2147483648, 1, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 9, p.addRN, -2147483647, 1, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 10, p.addRN, 2, 2147483647, 2147483647, 31 )
  TEST_RR_UIMM5_OP( 11, p.addRN, -2, -2147483648, -2147483648, 31 )
  TEST_RR_UIMM5_OP( 12, p.addRN, -1, 2147483647, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 13, p.addRN, -1, -2147483648, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 14, p.addRN, 102166, 350402868, 68069332, 12 )
  TEST_RR_UIMM5_OP( 15, p.addRN, -789, -1664434371, 9502909, 21 )
  TEST_RR_UIMM5_OP( 16, p.addRN, 33, 479102244, 70402165, 24 )
  TEST_RR_UIMM5_OP( 17, p.addRN, 60252, 1959146718, 1989510527, 16 )
  TEST_RR_UIMM5_OP( 18, p.addRN, -46, -2049780367, 491411884, 25 )
  TEST_RR_UIMM5_OP( 19, p.addRN, -35477113, -1850596052, 715328451, 5 )
  TEST_RR_UIMM5_OP( 20, p.addRN, -56975, -405829170, 172460822, 12 )
  TEST_RR_UIMM5_OP( 21, p.addRN, -151571458, 738029674, -1950601338, 3 )
  TEST_RR_UIMM5_OP( 22, p.addRN, 3, 1199574416, 1613367227, 30 )
  TEST_RR_UIMM5_OP( 23, p.addRN, -204336, -2046512923, -1301329246, 14 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC1_EQ_DEST( 24, p.addRN, -206834, -1074072879, 862275270, 10 )
  TEST_RR_UIMM5_SRC1_EQ_DEST( 25, p.addRN, 57, 2010857020, 1821161670, 26 )
  
  TEST_RR_UIMM5_SRC2_EQ_DEST( 26, p.addRN, -1, 1099195845, -1656514769, 29 )
  TEST_RR_UIMM5_SRC2_EQ_DEST( 27, p.addRN, 148211800, 229784376, 2141604425, 4 )
  
  TEST_RR_UIMM5_SRC12_EQ_DEST( 28, p.addRN, -13119, -1719562100, 18 )
  TEST_RR_UIMM5_SRC12_EQ_DEST( 29, p.addRN, 119, 2004730929, 25 )
  
  TEST_RR_UIMM5_DEST_BYPASS( 48, 0, p.addRN, -57, -479623124, -479623124, 24 )
  TEST_RR_UIMM5_DEST_BYPASS( 49, 1, p.addRN, 84449940, 1351199040, 1351199040, 5 )
  TEST_RR_UIMM5_DEST_BYPASS( 50, 2, p.addRN, 1913684896, -1190641200, -1190641200, 0 )
  TEST_RR_UIMM5_DEST_BYPASS( 51, 0, p.addRN, 1610231, 824438158, 824438158, 10 )
  TEST_RR_UIMM5_DEST_BYPASS( 52, 1, p.addRN, 244, 2045165438, 2045165438, 24 )
  TEST_RR_UIMM5_DEST_BYPASS( 53, 2, p.addRN, 67, 1129236683, 1129236683, 25 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.addRN, 165205, 1090111924, -751771907, 11 )
  TEST_RR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.addRN, -144, -863011440, -1547435277, 24 )
  TEST_RR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.addRN, 141996684, 1272385561, 999561377, 4 )
  TEST_RR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.addRN, -704115, -1028142359, -1855911049, 12 )
  TEST_RR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.addRN, 904989355, -213461720, 2023440429, 1 )
  TEST_RR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.addRN, -398837737, -1026278063, -569072887, 2 )
  TEST_RR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.addRN, -633078701, -1208771930, -57385473, 1 )
  TEST_RR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.addRN, 2, 145339189, 1858938764, 30 )
  TEST_RR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.addRN, -5, -822560851, -1843914843, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.addRN, 192, 992408887, -590655441, 21 )
  TEST_RR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.addRN, -2, -1653940680, -1828680994, 31 )
  TEST_RR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.addRN, 3681693, 1878092822, 6933948, 9 )
  TEST_RR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.addRN, -320056180, -1065237483, -1495211954, 3 )
  TEST_RR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.addRN, -118919996, 1117818166, -1355658158, 1 )
  TEST_RR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.addRN, 18, 1320926839, 1047804518, 27 )
  TEST_RR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.addRN, -182900025, -1533731397, -1392669009, 4 )
  TEST_RR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.addRN, 6169, 1790869116, -1386594288, 16 )
  TEST_RR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.addRN, -10018586, -1757920445, 475541373, 7 )
  
  

  TEST_RR_UIMM5_ZEROSRC1( 54, p.addRN, 810074190, 810074190, 0 )
  TEST_RR_UIMM5_ZEROSRC1( 55, p.addRN, -14401534, -921698195, 6 )
  
  TEST_RR_UIMM5_ZEROSRC2( 56, p.addRN, -244, -1023049066, 22 )
  TEST_RR_UIMM5_ZEROSRC2( 57, p.addRN, 256772651, 2054181206, 3 )
  
  TEST_RR_UIMM5_ZEROSRC12( 58, p.addRN, 0, 2 )
  TEST_RR_UIMM5_ZEROSRC12( 59, p.addRN, 0, 13 )
  
  TEST_RR_UIMM5_ZERODEST( 60, p.addRN, -802544043, 1042634534, 5 )
  TEST_RR_UIMM5_ZERODEST( 61, p.addRN, 1249935552, -177396726, 13 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
