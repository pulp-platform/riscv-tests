# See LICENSE for license details.

#*****************************************************************************
# p.subuNr
#-----------------------------------------------------------------------------
#
# Test p.subuNr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_OP( 2, p.subuNr, 0, 0, 0, 0 )
  TEST_RRR_OP( 3, p.subuNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 4, p.subuNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 5, p.subuNr, 4294967295, 1, 0, 0 )
  TEST_RRR_OP( 6, p.subuNr, 2, 4294967295, 0, 1 )
  TEST_RRR_OP( 7, p.subuNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 8, p.subuNr, 4294967294, 1, 0, 4294967295 )
  TEST_RRR_OP( 9, p.subuNr, 4294967295, 1, 0, 0 )
  TEST_RRR_OP( 10, p.subuNr, 0, 4294967295, 31, 4294967295 )
  TEST_RRR_OP( 11, p.subuNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 12, p.subuNr, 1, 4294967295, 0, 0 )
  TEST_RRR_OP( 13, p.subuNr, 4294967295, 0, 0, 4294967295 )
  TEST_RRR_OP( 14, p.subuNr, 4294966391, 1279118942, 1059602419, 805128612 )
  TEST_RRR_OP( 15, p.subuNr, 371121, 3223379047, 2079080779, 3983436346 )
  TEST_RRR_OP( 16, p.subuNr, 450862962, 196359024, 3674922339, 3803262725 )
  TEST_RRR_OP( 17, p.subuNr, 324, 752654012, 2664447830, 2113223538 )
  TEST_RRR_OP( 18, p.subuNr, 4294967295, 4203775916, 1268027774, 4187048677 )
  TEST_RRR_OP( 19, p.subuNr, 672, 3514459222, 3673381523, 3866859173 )
  TEST_RRR_OP( 20, p.subuNr, 47, 211891588, 204411514, 3426353007 )
  TEST_RRR_OP( 21, p.subuNr, 4294950058, 2446314080, 3144179665, 186917648 )
  TEST_RRR_OP( 22, p.subuNr, 102, 417203790, 3507872633, 3862842870 )
  TEST_RRR_OP( 23, p.subuNr, 4294967295, 4185324185, 2619915167, 2953809357 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_SRC1_EQ_DEST( 24, p.subuNr, 0, 1966567068, 2216601318 )
  TEST_RRR_SRC1_EQ_DEST( 25, p.subuNr, 0, 4212669981, 1981160846 )
  
  TEST_RRR_SRC2_EQ_DEST( 26, p.subuNr, 32274360, 214866374, 1247645925 )
  TEST_RRR_SRC2_EQ_DEST( 27, p.subuNr, 578024151, 1734371538, 2890419841 )
  
  TEST_RRR_SRC12_EQ_DEST( 28, p.subuNr, 0, 2389226265 )
  TEST_RRR_SRC12_EQ_DEST( 29, p.subuNr, 0, 1989304132 )
  
  TEST_RRR_DEST_BYPASS( 48, 0, p.subuNr, 4294967286, 2161557311, 2476369403, 864869009 )
  TEST_RRR_DEST_BYPASS( 49, 1, p.subuNr, 6, 1099843415, 327598042, 1516876266 )
  TEST_RRR_DEST_BYPASS( 50, 2, p.subuNr, 429, 2107378019, 412920429, 2110896070 )
  TEST_RRR_DEST_BYPASS( 51, 0, p.subuNr, 4294967295, 4007941783, 3445788926, 3586501192 )
  TEST_RRR_DEST_BYPASS( 52, 1, p.subuNr, 20942947, 1763875065, 1034674214, 3104223728 )
  TEST_RRR_DEST_BYPASS( 53, 2, p.subuNr, 4293686281, 4256200163, 1364885899, 1632681743 )
  TEST_RRR_SRC3_BYPASS( 54, 0, p.subuNr, 38056, 1162806577, 687931054, 1786327237 )
  TEST_RRR_SRC3_BYPASS( 55, 1, p.subuNr, 0, 3909883943, 3020389597, 4191588502 )
  TEST_RRR_SRC3_BYPASS( 56, 2, p.subuNr, 6825965, 57462051, 1177858247, 931185632 )
  TEST_RRR_SRC3_BYPASS( 57, 0, p.subuNr, 1183261104, 816430665, 2376177825, 3182952874 )
  TEST_RRR_SRC3_BYPASS( 58, 1, p.subuNr, 8079, 2912515891, 798947472, 3442046644 )
  TEST_RRR_SRC3_BYPASS( 59, 2, p.subuNr, 4294965298, 656700022, 1028654929, 394838513 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_SRC12_BYPASS( 30, 0, 0, p.subuNr, 11912, 1914908958, 1541048784, 2695582979 )
  TEST_RRR_SRC12_BYPASS( 31, 0, 1, p.subuNr, 571985244, 1534384957, 471113794, 3822325935 )
  TEST_RRR_SRC12_BYPASS( 32, 0, 2, p.subuNr, 941971939, 299843568, 1336493089, 2183787447 )
  TEST_RRR_SRC12_BYPASS( 33, 1, 0, p.subuNr, 46, 293515580, 1079155706, 3407065004 )
  TEST_RRR_SRC12_BYPASS( 34, 1, 1, p.subuNr, 4290313011, 1051229773, 3803058342, 753355579 )
  TEST_RRR_SRC12_BYPASS( 35, 1, 2, p.subuNr, 929, 2089010893, 2625187317, 4039163153 )
  TEST_RRR_SRC12_BYPASS( 36, 2, 0, p.subuNr, 4264940440, 1404121621, 3678505093, 443262258 )
  TEST_RRR_SRC12_BYPASS( 37, 2, 1, p.subuNr, 1547657168, 966983542, 4072635937, 4062297878 )
  TEST_RRR_SRC12_BYPASS( 38, 2, 2, p.subuNr, 4294700251, 3267393649, 481092941, 1079768908 )
  TEST_RRR_SRC12_BYPASS( 39, 0, 0, p.subuNr, 4292212201, 1582920389, 3605905641, 172312109 )
  TEST_RRR_SRC12_BYPASS( 40, 0, 1, p.subuNr, 35888721, 329551186, 393099810, 473106070 )
  TEST_RRR_SRC12_BYPASS( 41, 0, 2, p.subuNr, 1054016, 1580390000, 2158832394, 2659702956 )
  TEST_RRR_SRC12_BYPASS( 42, 1, 0, p.subuNr, 4294869875, 3583493935, 2521546479, 391228341 )
  TEST_RRR_SRC12_BYPASS( 43, 1, 1, p.subuNr, 4089876598, 2838519204, 3629113155, 1197793624 )
  TEST_RRR_SRC12_BYPASS( 44, 1, 2, p.subuNr, 4294931456, 3133298242, 2090584398, 2546111130 )
  TEST_RRR_SRC12_BYPASS( 45, 2, 0, p.subuNr, 4121149914, 4092775501, 1592226400, 3918958119 )
  TEST_RRR_SRC12_BYPASS( 46, 2, 1, p.subuNr, 10942, 1069973390, 2936369742, 1249258362 )
  TEST_RRR_SRC12_BYPASS( 47, 2, 2, p.subuNr, 4294967084, 3390833131, 516305235, 3279993646 )
  
  

  TEST_RRR_ZEROSRC1( 60, p.subuNr, 16272, 3175963025, 2132882530 )
  TEST_RRR_ZEROSRC1( 61, p.subuNr, 518002520, 559686019, 4144020166 )
  
  TEST_RRR_ZEROSRC2( 62, p.subuNr, 208781454, 4262834002, 176648160 )
  TEST_RRR_ZEROSRC2( 63, p.subuNr, 945628179, 1261162944, 2206791123 )
  
  TEST_RRR_ZEROSRC3( 64, p.subuNr, 4294965387, 125057867, 2831714960 )
  TEST_RRR_ZEROSRC3( 65, p.subuNr, 4294966325, 4072069346, 1295767318 )
  
  TEST_RRR_ZEROSRC12( 66, p.subuNr, 2942261993, 2942261993 )
  TEST_RRR_ZEROSRC12( 67, p.subuNr, 3544970065, 3544970065 )
  
  TEST_RRR_ZEROSRC123( 68, p.subuNr, 0 )
  TEST_RRR_ZEROSRC123( 69, p.subuNr, 0 )
  
  TEST_RRR_ZERODEST( 70, p.subuNr, 3749414639, 638216174 )
  TEST_RRR_ZERODEST( 71, p.subuNr, 88190266, 719155157 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
