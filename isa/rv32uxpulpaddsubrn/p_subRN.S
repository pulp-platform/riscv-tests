# See LICENSE for license details.

#*****************************************************************************
# p.subRN
#-----------------------------------------------------------------------------
#
# Test p.subRN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_OP( 2, p.subRN, 0, 0, 0, 0 )
  TEST_RR_UIMM5_OP( 3, p.subRN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 4, p.subRN, -1, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 5, p.subRN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 6, p.subRN, 2147483646, 2147483647, 1, 0 )
  TEST_RR_UIMM5_OP( 7, p.subRN, 2147483647, -2147483648, 1, 0 )
  TEST_RR_UIMM5_OP( 8, p.subRN, -2147483646, 1, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 9, p.subRN, -2147483647, 1, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 10, p.subRN, 0, 2147483647, 2147483647, 31 )
  TEST_RR_UIMM5_OP( 11, p.subRN, 0, -2147483648, -2147483648, 31 )
  TEST_RR_UIMM5_OP( 12, p.subRN, -1, 2147483647, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 13, p.subRN, 1, -2147483648, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 14, p.subRN, 1, 1550717113, 1237309901, 29 )
  TEST_RR_UIMM5_OP( 15, p.subRN, 492714686, 1312749050, 327319678, 1 )
  TEST_RR_UIMM5_OP( 16, p.subRN, -12865219, -1559576641, 1733919479, 8 )
  TEST_RR_UIMM5_OP( 17, p.subRN, 23, 1242017385, 1192738970, 21 )
  TEST_RR_UIMM5_OP( 18, p.subRN, 179, 2088990051, 1995183827, 19 )
  TEST_RR_UIMM5_OP( 19, p.subRN, -51014, -1495355241, 176273238, 15 )
  TEST_RR_UIMM5_OP( 20, p.subRN, -1960370095, 1648829115, -685768086, 0 )
  TEST_RR_UIMM5_OP( 21, p.subRN, -171762, -282504500, 69263336, 11 )
  TEST_RR_UIMM5_OP( 22, p.subRN, -7406901, -1963302231, -1489260585, 6 )
  TEST_RR_UIMM5_OP( 23, p.subRN, 1010701690, -366725519, -1377427209, 0 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC1_EQ_DEST( 24, p.subRN, 0, -810579357, -1506774633, 31 )
  TEST_RR_UIMM5_SRC1_EQ_DEST( 25, p.subRN, 158196, 1547329421, 899358322, 12 )
  
  TEST_RR_UIMM5_SRC2_EQ_DEST( 26, p.subRN, -5010, 1581321143, 1909685462, 16 )
  TEST_RR_UIMM5_SRC2_EQ_DEST( 27, p.subRN, -4976, -1096804000, 1511969995, 19 )
  
  TEST_RR_UIMM5_SRC12_EQ_DEST( 28, p.subRN, 0, -1056191404, 2 )
  TEST_RR_UIMM5_SRC12_EQ_DEST( 29, p.subRN, 0, -1981379739, 18 )
  
  TEST_RR_UIMM5_DEST_BYPASS( 48, 0, p.subRN, 0, 1291606889, 1291606889, 26 )
  TEST_RR_UIMM5_DEST_BYPASS( 49, 1, p.subRN, 0, 1273320590, 1273320590, 28 )
  TEST_RR_UIMM5_DEST_BYPASS( 50, 2, p.subRN, 0, -1602335243, -1602335243, 15 )
  TEST_RR_UIMM5_DEST_BYPASS( 51, 0, p.subRN, 0, 1092900625, 1092900625, 28 )
  TEST_RR_UIMM5_DEST_BYPASS( 52, 1, p.subRN, 0, -892241497, -892241497, 8 )
  TEST_RR_UIMM5_DEST_BYPASS( 53, 2, p.subRN, 0, 2017410076, 2017410076, 1 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.subRN, -14611335, -1758984509, 111266372, 7 )
  TEST_RR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.subRN, 9352, 479807910, -745981703, 17 )
  TEST_RR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.subRN, -35999, -71152230, 1108474924, 15 )
  TEST_RR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.subRN, -774447282, -516584315, 1032310249, 1 )
  TEST_RR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.subRN, -162, -2064143835, 658833310, 24 )
  TEST_RR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.subRN, 865, -1014919719, -1921826307, 20 )
  TEST_RR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.subRN, -135, -92840111, -57452029, 18 )
  TEST_RR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.subRN, -4, -1132890244, -552318136, 27 )
  TEST_RR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.subRN, 3, 1749310607, 965482107, 28 )
  TEST_RR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.subRN, -40239689, -1466618492, -822783466, 4 )
  TEST_RR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.subRN, 740, -334987105, -1887771011, 21 )
  TEST_RR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.subRN, -11810, -821333111, 726618363, 17 )
  TEST_RR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.subRN, -3583, 824606928, 1294280867, 17 )
  TEST_RR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.subRN, 7274645, 1762926432, -99382688, 8 )
  TEST_RR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.subRN, 19824, -759975636, -1084771152, 14 )
  TEST_RR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.subRN, 0, -914794234, -1164726018, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.subRN, -95, -2122969990, 1068427308, 25 )
  TEST_RR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.subRN, -407221119, -1296342345, -481900106, 1 )
  
  

  TEST_RR_UIMM5_ZEROSRC1( 54, p.subRN, -52805304, 1689769740, 5 )
  TEST_RR_UIMM5_ZEROSRC1( 55, p.subRN, -212250584, 849002338, 2 )
  
  TEST_RR_UIMM5_ZEROSRC2( 56, p.subRN, -323796, -165783773, 9 )
  TEST_RR_UIMM5_ZEROSRC2( 57, p.subRN, -3, -169498161, 26 )
  
  TEST_RR_UIMM5_ZEROSRC12( 58, p.subRN, 0, 9 )
  TEST_RR_UIMM5_ZEROSRC12( 59, p.subRN, 0, 28 )
  
  TEST_RR_UIMM5_ZERODEST( 60, p.subRN, 8731427, 425322652, 16 )
  TEST_RR_UIMM5_ZERODEST( 61, p.subRN, -1118862312, -1557834451, 20 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
