# See LICENSE for license details.

#*****************************************************************************
# p.subN
#-----------------------------------------------------------------------------
#
# Test p.subN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_OP( 2, p.subN, 0, 0, 0, 0 )
  TEST_RR_UIMM5_OP( 3, p.subN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 4, p.subN, -1, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 5, p.subN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 6, p.subN, 2147483646, 2147483647, 1, 0 )
  TEST_RR_UIMM5_OP( 7, p.subN, 2147483647, -2147483648, 1, 0 )
  TEST_RR_UIMM5_OP( 8, p.subN, -2147483646, 1, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 9, p.subN, -2147483647, 1, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 10, p.subN, 0, 2147483647, 2147483647, 31 )
  TEST_RR_UIMM5_OP( 11, p.subN, 0, -2147483648, -2147483648, 31 )
  TEST_RR_UIMM5_OP( 12, p.subN, -1, 2147483647, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 13, p.subN, 1, -2147483648, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 14, p.subN, -443173858, -1523292793, 2022098069, 3 )
  TEST_RR_UIMM5_OP( 15, p.subN, -11379, 1518729993, 1891580963, 15 )
  TEST_RR_UIMM5_OP( 16, p.subN, 107770799, -143566632, -359108231, 1 )
  TEST_RR_UIMM5_OP( 17, p.subN, -267594268, -443620993, 1697133151, 3 )
  TEST_RR_UIMM5_OP( 18, p.subN, -432, -479150276, 1331854640, 22 )
  TEST_RR_UIMM5_OP( 19, p.subN, 565, -1407088498, -1555228503, 18 )
  TEST_RR_UIMM5_OP( 20, p.subN, -1226, -1337165418, -1256874049, 16 )
  TEST_RR_UIMM5_OP( 21, p.subN, 0, 2024037196, 1035505774, 31 )
  TEST_RR_UIMM5_OP( 22, p.subN, -5773884, 677938786, 1047467358, 6 )
  TEST_RR_UIMM5_OP( 23, p.subN, 5, 284468161, 99989572, 25 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC1_EQ_DEST( 24, p.subN, -1, 1437205606, 1994406906, 30 )
  TEST_RR_UIMM5_SRC1_EQ_DEST( 25, p.subN, 113047995, -773874892, -1678258852, 3 )
  
  TEST_RR_UIMM5_SRC2_EQ_DEST( 26, p.subN, -259, -894285104, -351530542, 21 )
  TEST_RR_UIMM5_SRC2_EQ_DEST( 27, p.subN, 1204998, 1407828963, -1060007633, 11 )
  
  TEST_RR_UIMM5_SRC12_EQ_DEST( 28, p.subN, 0, 1009465891, 11 )
  TEST_RR_UIMM5_SRC12_EQ_DEST( 29, p.subN, 0, 1945167629, 28 )
  
  TEST_RR_UIMM5_DEST_BYPASS( 48, 0, p.subN, 0, -1941477167, -1941477167, 19 )
  TEST_RR_UIMM5_DEST_BYPASS( 49, 1, p.subN, 0, -899467449, -899467449, 15 )
  TEST_RR_UIMM5_DEST_BYPASS( 50, 2, p.subN, 0, 1875032086, 1875032086, 27 )
  TEST_RR_UIMM5_DEST_BYPASS( 51, 0, p.subN, 0, -776282191, -776282191, 7 )
  TEST_RR_UIMM5_DEST_BYPASS( 52, 1, p.subN, 0, 225551819, 225551819, 31 )
  TEST_RR_UIMM5_DEST_BYPASS( 53, 2, p.subN, 0, 1034653716, 1034653716, 24 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.subN, -1, -205069124, -72085587, 30 )
  TEST_RR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.subN, 325533, 1119236214, -1547535641, 13 )
  TEST_RR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.subN, -1743254, -1707186373, -814640515, 9 )
  TEST_RR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.subN, -349, -1427426073, 1492040734, 23 )
  TEST_RR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.subN, -8304, -2000623664, 176127521, 18 )
  TEST_RR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.subN, -1626, 49097541, 901134910, 19 )
  TEST_RR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.subN, 0, 1112172660, 1057178623, 31 )
  TEST_RR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.subN, -20, 267421496, 589199148, 24 )
  TEST_RR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.subN, 1, 1964304070, 1733912296, 27 )
  TEST_RR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.subN, 26, 1441378242, -316574031, 26 )
  TEST_RR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.subN, 0, -203159361, -2132340385, 31 )
  TEST_RR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.subN, 37468, 1630304638, 1476832769, 12 )
  TEST_RR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.subN, 1787893, 1643839060, -2017766866, 11 )
  TEST_RR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.subN, -380, -1767376607, -176993618, 22 )
  TEST_RR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.subN, 185390, 1775757019, -1261680830, 14 )
  TEST_RR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.subN, 2, 2123875623, 844034228, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.subN, 55523205, 1923339804, 146597226, 5 )
  TEST_RR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.subN, -114754686, 27181771, 945219259, 3 )
  
  

  TEST_RR_UIMM5_ZEROSRC1( 54, p.subN, -37, 1225421805, 25 )
  TEST_RR_UIMM5_ZEROSRC1( 55, p.subN, -109, 909771654, 23 )
  
  TEST_RR_UIMM5_ZEROSRC2( 56, p.subN, 9, 1329403768, 27 )
  TEST_RR_UIMM5_ZEROSRC2( 57, p.subN, -27723880, -887164137, 5 )
  
  TEST_RR_UIMM5_ZEROSRC12( 58, p.subN, 0, 8 )
  TEST_RR_UIMM5_ZEROSRC12( 59, p.subN, 0, 27 )
  
  TEST_RR_UIMM5_ZERODEST( 60, p.subN, 1620523922, 2124261554, 22 )
  TEST_RR_UIMM5_ZERODEST( 61, p.subN, -1503936355, -836400546, 14 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
