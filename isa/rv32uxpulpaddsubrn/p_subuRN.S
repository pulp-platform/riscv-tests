# See LICENSE for license details.

#*****************************************************************************
# p.subuRN
#-----------------------------------------------------------------------------
#
# Test p.subuRN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_OP( 2, p.subuRN, 0, 0, 0, 0 )
  TEST_RR_UIMM5_OP( 3, p.subuRN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 4, p.subuRN, 4294967295, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 5, p.subuRN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 6, p.subuRN, 4294967294, 4294967295, 1, 0 )
  TEST_RR_UIMM5_OP( 7, p.subuRN, 4294967295, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 8, p.subuRN, 2, 1, 4294967295, 0 )
  TEST_RR_UIMM5_OP( 9, p.subuRN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 10, p.subuRN, 0, 4294967295, 4294967295, 31 )
  TEST_RR_UIMM5_OP( 11, p.subuRN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 12, p.subuRN, 4294967295, 4294967295, 0, 0 )
  TEST_RR_UIMM5_OP( 13, p.subuRN, 1, 0, 4294967295, 0 )
  TEST_RR_UIMM5_OP( 14, p.subuRN, 6520572, 2654954324, 2446296025, 5 )
  TEST_RR_UIMM5_OP( 15, p.subuRN, 7168, 1657456577, 717993696, 17 )
  TEST_RR_UIMM5_OP( 16, p.subuRN, 1274794651, 4216937532, 2942142881, 0 )
  TEST_RR_UIMM5_OP( 17, p.subuRN, 183, 1618477362, 81003497, 23 )
  TEST_RR_UIMM5_OP( 18, p.subuRN, 19348, 3081766883, 545833046, 17 )
  TEST_RR_UIMM5_OP( 19, p.subuRN, 5, 2666115351, 1282837844, 28 )
  TEST_RR_UIMM5_OP( 20, p.subuRN, 873, 3918119466, 256774181, 22 )
  TEST_RR_UIMM5_OP( 21, p.subuRN, 4289581770, 1321775460, 4079164568, 9 )
  TEST_RR_UIMM5_OP( 22, p.subuRN, 402573, 1942874303, 293936624, 12 )
  TEST_RR_UIMM5_OP( 23, p.subuRN, 1099, 2769211563, 1617041403, 20 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC1_EQ_DEST( 24, p.subuRN, 2009, 3953518637, 1847250888, 20 )
  TEST_RR_UIMM5_SRC1_EQ_DEST( 25, p.subuRN, 1553815239, 4076773848, 2522958609, 0 )
  
  TEST_RR_UIMM5_SRC2_EQ_DEST( 26, p.subuRN, 1, 4035739955, 2484176369, 30 )
  TEST_RR_UIMM5_SRC2_EQ_DEST( 27, p.subuRN, 4257142030, 1705754783, 2916163288, 5 )
  
  TEST_RR_UIMM5_SRC12_EQ_DEST( 28, p.subuRN, 0, 1350004722, 31 )
  TEST_RR_UIMM5_SRC12_EQ_DEST( 29, p.subuRN, 0, 3347841201, 19 )
  
  TEST_RR_UIMM5_DEST_BYPASS( 48, 0, p.subuRN, 0, 1175274193, 1175274193, 27 )
  TEST_RR_UIMM5_DEST_BYPASS( 49, 1, p.subuRN, 0, 420012160, 420012160, 25 )
  TEST_RR_UIMM5_DEST_BYPASS( 50, 2, p.subuRN, 0, 3643944433, 3643944433, 13 )
  TEST_RR_UIMM5_DEST_BYPASS( 51, 0, p.subuRN, 0, 1229233117, 1229233117, 30 )
  TEST_RR_UIMM5_DEST_BYPASS( 52, 1, p.subuRN, 0, 4266370281, 4266370281, 30 )
  TEST_RR_UIMM5_DEST_BYPASS( 53, 2, p.subuRN, 0, 297142092, 297142092, 24 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.subuRN, 7217877, 2058563433, 210787034, 8 )
  TEST_RR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.subuRN, 4287457151, 189776933, 2112374096, 8 )
  TEST_RR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.subuRN, 4294736455, 1187930326, 1424311899, 10 )
  TEST_RR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.subuRN, 3, 3477339841, 1756800583, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.subuRN, 165470, 3352221509, 641153194, 14 )
  TEST_RR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.subuRN, 3866893279, 525260372, 1381408406, 1 )
  TEST_RR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.subuRN, 4284607535, 1986913033, 2028352078, 2 )
  TEST_RR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.subuRN, 27535603, 4206426846, 681869660, 7 )
  TEST_RR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.subuRN, 4294967294, 1343199492, 2326543255, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.subuRN, 4294967263, 1403817631, 2494868721, 25 )
  TEST_RR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.subuRN, 4294967295, 2585773338, 4013461922, 30 )
  TEST_RR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.subuRN, 4294967207, 2797904092, 4293058697, 24 )
  TEST_RR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.subuRN, 2, 1442145070, 414235651, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.subuRN, 20, 3010031373, 2673482493, 24 )
  TEST_RR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.subuRN, 810386183, 4170300967, 928756237, 2 )
  TEST_RR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.subuRN, 94, 3335657069, 195896540, 25 )
  TEST_RR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.subuRN, 1714, 3850567919, 2053768312, 20 )
  TEST_RR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.subuRN, 176004845, 3721925980, 2313887220, 3 )
  
  

  TEST_RR_UIMM5_ZEROSRC1( 54, p.subuRN, 4294950005, 1133159534, 16 )
  TEST_RR_UIMM5_ZEROSRC1( 55, p.subuRN, 4294967233, 4235048138, 26 )
  
  TEST_RR_UIMM5_ZEROSRC2( 56, p.subuRN, 1, 2527695901, 31 )
  TEST_RR_UIMM5_ZEROSRC2( 57, p.subuRN, 60, 4018023685, 26 )
  
  TEST_RR_UIMM5_ZEROSRC12( 58, p.subuRN, 0, 9 )
  TEST_RR_UIMM5_ZEROSRC12( 59, p.subuRN, 0, 9 )
  
  TEST_RR_UIMM5_ZERODEST( 60, p.subuRN, 3423278627, 2418790565, 6 )
  TEST_RR_UIMM5_ZERODEST( 61, p.subuRN, 289140759, 2577228585, 14 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
