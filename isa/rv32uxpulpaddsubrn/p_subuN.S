# See LICENSE for license details.

#*****************************************************************************
# p.subuN
#-----------------------------------------------------------------------------
#
# Test p.subuN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_OP( 2, p.subuN, 0, 0, 0, 0 )
  TEST_RR_UIMM5_OP( 3, p.subuN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 4, p.subuN, 4294967295, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 5, p.subuN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 6, p.subuN, 4294967294, 4294967295, 1, 0 )
  TEST_RR_UIMM5_OP( 7, p.subuN, 4294967295, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 8, p.subuN, 2, 1, 4294967295, 0 )
  TEST_RR_UIMM5_OP( 9, p.subuN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 10, p.subuN, 0, 4294967295, 4294967295, 31 )
  TEST_RR_UIMM5_OP( 11, p.subuN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 12, p.subuN, 4294967295, 4294967295, 0, 0 )
  TEST_RR_UIMM5_OP( 13, p.subuN, 1, 0, 4294967295, 0 )
  TEST_RR_UIMM5_OP( 14, p.subuN, 8567484, 1249714100, 1232579131, 1 )
  TEST_RR_UIMM5_OP( 15, p.subuN, 3212898, 979578473, 773952964, 6 )
  TEST_RR_UIMM5_OP( 16, p.subuN, 204284, 3652288253, 2815539188, 12 )
  TEST_RR_UIMM5_OP( 17, p.subuN, 4291846706, 1828352151, 2627223186, 8 )
  TEST_RR_UIMM5_OP( 18, p.subuN, 4294967234, 363122581, 2410214211, 25 )
  TEST_RR_UIMM5_OP( 19, p.subuN, 72239538, 4081268164, 3936789088, 1 )
  TEST_RR_UIMM5_OP( 20, p.subuN, 4294857577, 29133488, 3624374697, 15 )
  TEST_RR_UIMM5_OP( 21, p.subuN, 4294965693, 1494420295, 3174572013, 20 )
  TEST_RR_UIMM5_OP( 22, p.subuN, 4227406464, 647226761, 1728200070, 4 )
  TEST_RR_UIMM5_OP( 23, p.subuN, 4294967280, 784637764, 2929193253, 27 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC1_EQ_DEST( 24, p.subuN, 750644556, 200424697, 3744747437, 0 )
  TEST_RR_UIMM5_SRC1_EQ_DEST( 25, p.subuN, 4294966955, 35275454, 2889213056, 23 )
  
  TEST_RR_UIMM5_SRC2_EQ_DEST( 26, p.subuN, 7396782, 3536575966, 2589787865, 7 )
  TEST_RR_UIMM5_SRC2_EQ_DEST( 27, p.subuN, 5897394, 1822455817, 1067589322, 7 )
  
  TEST_RR_UIMM5_SRC12_EQ_DEST( 28, p.subuN, 0, 2679055831, 4 )
  TEST_RR_UIMM5_SRC12_EQ_DEST( 29, p.subuN, 0, 4042993762, 15 )
  
  TEST_RR_UIMM5_DEST_BYPASS( 48, 0, p.subuN, 0, 2576744845, 2576744845, 23 )
  TEST_RR_UIMM5_DEST_BYPASS( 49, 1, p.subuN, 0, 274721603, 274721603, 4 )
  TEST_RR_UIMM5_DEST_BYPASS( 50, 2, p.subuN, 0, 1583284154, 1583284154, 22 )
  TEST_RR_UIMM5_DEST_BYPASS( 51, 0, p.subuN, 0, 3286649557, 3286649557, 8 )
  TEST_RR_UIMM5_DEST_BYPASS( 52, 1, p.subuN, 0, 918692006, 918692006, 18 )
  TEST_RR_UIMM5_DEST_BYPASS( 53, 2, p.subuN, 0, 289814124, 289814124, 13 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.subuN, 53291, 3668753533, 2795632304, 14 )
  TEST_RR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.subuN, 48995490, 3151945163, 2368017317, 4 )
  TEST_RR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.subuN, 607, 1821598755, 547281588, 21 )
  TEST_RR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.subuN, 4291749779, 31276633, 3326013950, 10 )
  TEST_RR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.subuN, 4294967029, 3014321322, 4132090146, 22 )
  TEST_RR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.subuN, 130, 2488102443, 300332017, 24 )
  TEST_RR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.subuN, 251, 3540095135, 3276180931, 20 )
  TEST_RR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.subuN, 762, 3000887951, 1401520819, 21 )
  TEST_RR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.subuN, 4294962362, 2084208994, 2245863909, 15 )
  TEST_RR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.subuN, 1350629, 3286367527, 1903323002, 10 )
  TEST_RR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.subuN, 4294967287, 1832740554, 4202730016, 28 )
  TEST_RR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.subuN, 322532, 1442386751, 1277250065, 9 )
  TEST_RR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.subuN, 0, 1185377226, 420069777, 31 )
  TEST_RR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.subuN, 4022842858, 3647327815, 4191576691, 1 )
  TEST_RR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.subuN, 1466, 2330196983, 1561311340, 19 )
  TEST_RR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.subuN, 4294967220, 702826725, 3229653805, 25 )
  TEST_RR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.subuN, 4294964076, 2284707558, 3128598655, 18 )
  TEST_RR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.subuN, 4294966745, 1588382282, 3899148265, 22 )
  
  

  TEST_RR_UIMM5_ZEROSRC1( 54, p.subuN, 4294966830, 243896545, 19 )
  TEST_RR_UIMM5_ZEROSRC1( 55, p.subuN, 4294954632, 207478710, 14 )
  
  TEST_RR_UIMM5_ZEROSRC2( 56, p.subuN, 182537, 2990699381, 14 )
  TEST_RR_UIMM5_ZEROSRC2( 57, p.subuN, 9, 2634237747, 28 )
  
  TEST_RR_UIMM5_ZEROSRC12( 58, p.subuN, 0, 23 )
  TEST_RR_UIMM5_ZEROSRC12( 59, p.subuN, 0, 24 )
  
  TEST_RR_UIMM5_ZERODEST( 60, p.subuN, 2490948365, 2699911218, 2 )
  TEST_RR_UIMM5_ZERODEST( 61, p.subuN, 799386111, 1107542189, 12 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
