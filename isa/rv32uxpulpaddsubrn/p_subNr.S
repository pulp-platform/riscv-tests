# See LICENSE for license details.

#*****************************************************************************
# p.subNr
#-----------------------------------------------------------------------------
#
# Test p.subNr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_OP( 2, p.subNr, 0, 0, 0, 0 )
  TEST_RRR_OP( 3, p.subNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 4, p.subNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 5, p.subNr, -1, 1, 0, 0 )
  TEST_RRR_OP( 6, p.subNr, -2147483646, 2147483647, 0, 1 )
  TEST_RRR_OP( 7, p.subNr, -2147483647, -2147483648, 0, 1 )
  TEST_RRR_OP( 8, p.subNr, 2147483646, 1, 0, 2147483647 )
  TEST_RRR_OP( 9, p.subNr, 2147483647, 1, 0, -2147483648 )
  TEST_RRR_OP( 10, p.subNr, 0, 2147483647, 31, 2147483647 )
  TEST_RRR_OP( 11, p.subNr, 0, -2147483648, 31, -2147483648 )
  TEST_RRR_OP( 12, p.subNr, 1, 2147483647, 0, -2147483648 )
  TEST_RRR_OP( 13, p.subNr, -1, -2147483648, 0, 2147483647 )
  TEST_RRR_OP( 14, p.subNr, 601, -406388521, 4033369590, 2114657057 )
  TEST_RRR_OP( 15, p.subNr, 1354700445, 1910275465, 268106048, -1029991386 )
  TEST_RRR_OP( 16, p.subNr, 11679, -197709141, 3389621681, 1333146899 )
  TEST_RRR_OP( 17, p.subNr, -30279009, 744196056, 173499110, -1193660503 )
  TEST_RRR_OP( 18, p.subNr, -36535, 1568940612, 681442031, 371765651 )
  TEST_RRR_OP( 19, p.subNr, -63449, 1221494828, 1607946639, -857589733 )
  TEST_RRR_OP( 20, p.subNr, -2280, 1527708449, 933583828, -862842385 )
  TEST_RRR_OP( 21, p.subNr, 2, 1063156115, 3496649243, 1427029863 )
  TEST_RRR_OP( 22, p.subNr, -3563, 351357156, 557538515, -1516388043 )
  TEST_RRR_OP( 23, p.subNr, -99778, 1540630253, 906815566, -94126521 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_SRC1_EQ_DEST( 24, p.subNr, 0, 1973378355, 262456505 )
  TEST_RRR_SRC1_EQ_DEST( 25, p.subNr, 0, -1522860163, 3831938950 )
  
  TEST_RRR_SRC2_EQ_DEST( 26, p.subNr, 3207, -1319510339, 2044161236 )
  TEST_RRR_SRC2_EQ_DEST( 27, p.subNr, -136347513, 2071342724, 980562627 )
  
  TEST_RRR_SRC12_EQ_DEST( 28, p.subNr, 0, -155392019 )
  TEST_RRR_SRC12_EQ_DEST( 29, p.subNr, 0, -183360477 )
  
  TEST_RRR_DEST_BYPASS( 48, 0, p.subNr, 34, -1222938363, 2132217306, 1078543010 )
  TEST_RRR_DEST_BYPASS( 49, 1, p.subNr, 0, -2060435727, 1194473533, -1817939131 )
  TEST_RRR_DEST_BYPASS( 50, 2, p.subNr, 455, 1115668836, 3675817237, 2071247488 )
  TEST_RRR_DEST_BYPASS( 51, 0, p.subNr, 7685, -1553628720, 743560689, -546243066 )
  TEST_RRR_DEST_BYPASS( 52, 1, p.subNr, 1832342, 431284996, 4124271337, 1369444473 )
  TEST_RRR_DEST_BYPASS( 53, 2, p.subNr, -8, 1552073149, 574952603, 540792517 )
  TEST_RRR_SRC3_BYPASS( 54, 0, p.subNr, 22435457, -1527675599, 1975087143, 1344062989 )
  TEST_RRR_SRC3_BYPASS( 55, 1, p.subNr, 70655, -1669577214, 1665906733, -1090768406 )
  TEST_RRR_SRC3_BYPASS( 56, 2, p.subNr, -88, 1655159237, 3557645369, -1296237193 )
  TEST_RRR_SRC3_BYPASS( 57, 0, p.subNr, 82, -1075821184, 292479769, 1684373671 )
  TEST_RRR_SRC3_BYPASS( 58, 1, p.subNr, -405, 1446083843, 3224819445, 598087050 )
  TEST_RRR_SRC3_BYPASS( 59, 2, p.subNr, -183019, -1577290877, 866599403, -1952112283 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_SRC12_BYPASS( 30, 0, 0, p.subNr, -85117, 1977477452, 2663790029, 1280203082 )
  TEST_RRR_SRC12_BYPASS( 31, 0, 1, p.subNr, -1, 114264794, 469469821, -59780479 )
  TEST_RRR_SRC12_BYPASS( 32, 0, 2, p.subNr, -123, 581706747, 952366903, -445919184 )
  TEST_RRR_SRC12_BYPASS( 33, 1, 0, p.subNr, -123875502, 1860786998, 4098526501, -2103229058 )
  TEST_RRR_SRC12_BYPASS( 34, 1, 1, p.subNr, 1032846, 59509891, 2707117834, 1117145209 )
  TEST_RRR_SRC12_BYPASS( 35, 1, 2, p.subNr, 0, 1904920697, 1590069820, 1925843430 )
  TEST_RRR_SRC12_BYPASS( 36, 2, 0, p.subNr, -529383240, 1705946456, 2139590560, 1176563216 )
  TEST_RRR_SRC12_BYPASS( 37, 2, 1, p.subNr, 54, -1578640952, 1532105336, -672506374 )
  TEST_RRR_SRC12_BYPASS( 38, 2, 2, p.subNr, 125715, -1367528670, 2512555662, 692189348 )
  TEST_RRR_SRC12_BYPASS( 39, 0, 0, p.subNr, -10280167, -1289181656, 4024048611, -1371422986 )
  TEST_RRR_SRC12_BYPASS( 40, 0, 1, p.subNr, 14971, -602379076, 386816494, -357092900 )
  TEST_RRR_SRC12_BYPASS( 41, 0, 2, p.subNr, 106214867, -1885124649, 1432402853, 1513751112 )
  TEST_RRR_SRC12_BYPASS( 42, 1, 0, p.subNr, -4511, 942766699, 2161227187, -1421892042 )
  TEST_RRR_SRC12_BYPASS( 43, 1, 1, p.subNr, -400682, -1495888442, 3194997865, -1701037458 )
  TEST_RRR_SRC12_BYPASS( 44, 1, 2, p.subNr, -216619, -1037572364, 2932818220, -1924841043 )
  TEST_RRR_SRC12_BYPASS( 45, 2, 0, p.subNr, 1, -1368275053, 1526182332, -937210551 )
  TEST_RRR_SRC12_BYPASS( 46, 2, 1, p.subNr, 15, -170579687, 1450354875, 1867470353 )
  TEST_RRR_SRC12_BYPASS( 47, 2, 2, p.subNr, -31, 2030871720, 660037115, -2018871590 )
  
  

  TEST_RRR_ZEROSRC1( 60, p.subNr, -363926, 4045734412, -1490639976 )
  TEST_RRR_ZEROSRC1( 61, p.subNr, -10973084, 1910651431, -1404554677 )
  
  TEST_RRR_ZEROSRC2( 62, p.subNr, 612506805, 1055510921, 1668017726 )
  TEST_RRR_ZEROSRC2( 63, p.subNr, -1425521818, 34499365, -1391022453 )
  
  TEST_RRR_ZEROSRC3( 64, p.subNr, 186789888, -1494319104, 1849509763 )
  TEST_RRR_ZEROSRC3( 65, p.subNr, 2085594, -533912121, 404662376 )
  
  TEST_RRR_ZEROSRC12( 66, p.subNr, 1813801044, 1813801044 )
  TEST_RRR_ZEROSRC12( 67, p.subNr, 1871079786, 1871079786 )
  
  TEST_RRR_ZEROSRC123( 68, p.subNr, 0 )
  TEST_RRR_ZEROSRC123( 69, p.subNr, 0 )
  
  TEST_RRR_ZERODEST( 70, p.subNr, -33360407, 309369270 )
  TEST_RRR_ZERODEST( 71, p.subNr, -420075077, 4256125036 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
