# See LICENSE for license details.

#*****************************************************************************
# p.adduNr
#-----------------------------------------------------------------------------
#
# Test p.adduNr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_OP( 2, p.adduNr, 0, 0, 0, 0 )
  TEST_RRR_OP( 3, p.adduNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 4, p.adduNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 5, p.adduNr, 1, 1, 0, 0 )
  TEST_RRR_OP( 6, p.adduNr, 0, 4294967295, 0, 1 )
  TEST_RRR_OP( 7, p.adduNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 8, p.adduNr, 0, 1, 0, 4294967295 )
  TEST_RRR_OP( 9, p.adduNr, 1, 1, 0, 0 )
  TEST_RRR_OP( 10, p.adduNr, 3, 4294967295, 31, 4294967295 )
  TEST_RRR_OP( 11, p.adduNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 12, p.adduNr, 4294967295, 4294967295, 0, 0 )
  TEST_RRR_OP( 13, p.adduNr, 4294967295, 0, 0, 4294967295 )
  TEST_RRR_OP( 14, p.adduNr, 6364, 1529158341, 812067891, 1807466669 )
  TEST_RRR_OP( 15, p.adduNr, 54503, 4287566034, 3125334449, 2856302174 )
  TEST_RRR_OP( 16, p.adduNr, 18862441, 1368781535, 3053687144, 3460003580 )
  TEST_RRR_OP( 17, p.adduNr, 1753505, 1338523025, 349043979, 2252656807 )
  TEST_RRR_OP( 18, p.adduNr, 466, 4191545923, 2321544248, 3637591519 )
  TEST_RRR_OP( 19, p.adduNr, 93, 776352373, 3429233944, 788254431 )
  TEST_RRR_OP( 20, p.adduNr, 1388, 3828182646, 1248073942, 1995331063 )
  TEST_RRR_OP( 21, p.adduNr, 324, 3976824703, 2705940344, 1472740921 )
  TEST_RRR_OP( 22, p.adduNr, 2812, 1337199754, 3925793204, 1611432680 )
  TEST_RRR_OP( 23, p.adduNr, 13255, 336861425, 882773105, 1400620516 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_SRC1_EQ_DEST( 24, p.adduNr, 15, 1027019290, 297504315 )
  TEST_RRR_SRC1_EQ_DEST( 25, p.adduNr, 13, 3721678813, 1219917789 )
  
  TEST_RRR_SRC2_EQ_DEST( 26, p.adduNr, 5, 4087488568, 2344575454 )
  TEST_RRR_SRC2_EQ_DEST( 27, p.adduNr, 45192030, 2657545409, 234744550 )
  
  TEST_RRR_SRC12_EQ_DEST( 28, p.adduNr, 61435437, 3931868007 )
  TEST_RRR_SRC12_EQ_DEST( 29, p.adduNr, 219350, 449229324 )
  
  TEST_RRR_DEST_BYPASS( 48, 0, p.adduNr, 191018, 1688349493, 3947860174, 1441304289 )
  TEST_RRR_DEST_BYPASS( 49, 1, p.adduNr, 47156733, 858605806, 3919666086, 2159425145 )
  TEST_RRR_DEST_BYPASS( 50, 2, p.adduNr, 4233520, 818551030, 449675272, 265230208 )
  TEST_RRR_DEST_BYPASS( 51, 0, p.adduNr, 607, 1354599219, 248452151, 3738394813 )
  TEST_RRR_DEST_BYPASS( 52, 1, p.adduNr, 36655, 829010218, 3406177553, 3975453256 )
  TEST_RRR_DEST_BYPASS( 53, 2, p.adduNr, 1896028, 1862703825, 3348680331, 2020363036 )
  TEST_RRR_SRC3_BYPASS( 54, 0, p.adduNr, 61255, 112115789, 843727566, 891493443 )
  TEST_RRR_SRC3_BYPASS( 55, 1, p.adduNr, 44654588, 1988103164, 4036629863, 3727684177 )
  TEST_RRR_SRC3_BYPASS( 56, 2, p.adduNr, 2586, 3691231733, 1965601269, 1732047628 )
  TEST_RRR_SRC3_BYPASS( 57, 0, p.adduNr, 3179153, 2617278727, 855035339, 3893627665 )
  TEST_RRR_SRC3_BYPASS( 58, 1, p.adduNr, 26420309, 3045644428, 3502665095, 336155203 )
  TEST_RRR_SRC3_BYPASS( 59, 2, p.adduNr, 104, 1486995554, 3593881593, 2018095014 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_SRC12_BYPASS( 30, 0, 0, p.adduNr, 16, 3141563563, 3892917308, 1351565401 )
  TEST_RRR_SRC12_BYPASS( 31, 0, 1, p.adduNr, 57176, 3237970177, 3344360561, 4256279097 )
  TEST_RRR_SRC12_BYPASS( 32, 0, 2, p.adduNr, 30232, 175901207, 221730352, 1805420721 )
  TEST_RRR_SRC12_BYPASS( 33, 1, 0, p.adduNr, 6, 3589779405, 184427741, 64438422 )
  TEST_RRR_SRC12_BYPASS( 34, 1, 1, p.adduNr, 2, 1037403353, 1427859103, 4011934532 )
  TEST_RRR_SRC12_BYPASS( 35, 1, 2, p.adduNr, 15388603, 3214057286, 4163303944, 725425213 )
  TEST_RRR_SRC12_BYPASS( 36, 2, 0, p.adduNr, 56691, 1586865547, 23243599, 270793456 )
  TEST_RRR_SRC12_BYPASS( 37, 2, 1, p.adduNr, 231249, 3531571920, 229144079, 4046003282 )
  TEST_RRR_SRC12_BYPASS( 38, 2, 2, p.adduNr, 4020961, 3965296755, 1847704395, 4269633264 )
  TEST_RRR_SRC12_BYPASS( 39, 0, 0, p.adduNr, 3, 2924216386, 325848638, 733742162 )
  TEST_RRR_SRC12_BYPASS( 40, 0, 1, p.adduNr, 439712, 3568261587, 2376175278, 3635995503 )
  TEST_RRR_SRC12_BYPASS( 41, 0, 2, p.adduNr, 149613, 745743463, 3712982255, 4156807705 )
  TEST_RRR_SRC12_BYPASS( 42, 1, 0, p.adduNr, 649293, 2179031907, 3261954733, 3139984332 )
  TEST_RRR_SRC12_BYPASS( 43, 1, 1, p.adduNr, 706, 3614849051, 2102062487, 2314971803 )
  TEST_RRR_SRC12_BYPASS( 44, 1, 2, p.adduNr, 267, 1338531712, 800497496, 3154523793 )
  TEST_RRR_SRC12_BYPASS( 45, 2, 0, p.adduNr, 756, 4173707263, 2725546039, 2169201808 )
  TEST_RRR_SRC12_BYPASS( 46, 2, 1, p.adduNr, 1591, 715468555, 1618589812, 953480079 )
  TEST_RRR_SRC12_BYPASS( 47, 2, 2, p.adduNr, 320189970, 992237660, 2729220195, 1569282107 )
  
  

  TEST_RRR_ZEROSRC1( 60, p.adduNr, 637, 49297333, 1336960758 )
  TEST_RRR_ZEROSRC1( 61, p.adduNr, 721, 1265537590, 3026122341 )
  
  TEST_RRR_ZEROSRC2( 62, p.adduNr, 205312196, 941633073, 3558646419 )
  TEST_RRR_ZEROSRC2( 63, p.adduNr, 4123331714, 3751924506, 371407208 )
  
  TEST_RRR_ZEROSRC3( 64, p.adduNr, 178224442, 1425795539, 2139516547 )
  TEST_RRR_ZEROSRC3( 65, p.adduNr, 7, 4049501196, 1465796893 )
  
  TEST_RRR_ZEROSRC12( 66, p.adduNr, 1753119642, 1753119642 )
  TEST_RRR_ZEROSRC12( 67, p.adduNr, 58695501, 58695501 )
  
  TEST_RRR_ZEROSRC123( 68, p.adduNr, 0 )
  TEST_RRR_ZEROSRC123( 69, p.adduNr, 0 )
  
  TEST_RRR_ZERODEST( 70, p.adduNr, 783877728, 3262746046 )
  TEST_RRR_ZERODEST( 71, p.adduNr, 3548026895, 2006351038 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
