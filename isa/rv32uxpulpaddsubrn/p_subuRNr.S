# See LICENSE for license details.

#*****************************************************************************
# p.subuRNr
#-----------------------------------------------------------------------------
#
# Test p.subuRNr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_OP( 2, p.subuRNr, 0, 0, 0, 0 )
  TEST_RRR_OP( 3, p.subuRNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 4, p.subuRNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 5, p.subuRNr, 4294967295, 1, 0, 0 )
  TEST_RRR_OP( 6, p.subuRNr, 2, 4294967295, 0, 1 )
  TEST_RRR_OP( 7, p.subuRNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 8, p.subuRNr, 4294967294, 1, 0, 4294967295 )
  TEST_RRR_OP( 9, p.subuRNr, 4294967295, 1, 0, 0 )
  TEST_RRR_OP( 10, p.subuRNr, 0, 4294967295, 31, 4294967295 )
  TEST_RRR_OP( 11, p.subuRNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 12, p.subuRNr, 1, 4294967295, 0, 0 )
  TEST_RRR_OP( 13, p.subuRNr, 4294967295, 0, 0, 4294967295 )
  TEST_RRR_OP( 14, p.subuRNr, 55028, 1294619592, 859272591, 3097780527 )
  TEST_RRR_OP( 15, p.subuRNr, 3019633724, 2667573146, 3415996832, 1392239574 )
  TEST_RRR_OP( 16, p.subuRNr, 4293732669, 3467417245, 1870074027, 938901842 )
  TEST_RRR_OP( 17, p.subuRNr, 4294967220, 3714579465, 1174307223, 3076621140 )
  TEST_RRR_OP( 18, p.subuRNr, 2, 1931332720, 720322462, 3708086293 )
  TEST_RRR_OP( 19, p.subuRNr, 4294953868, 4060364344, 44434161, 2300285874 )
  TEST_RRR_OP( 20, p.subuRNr, 22, 1107190924, 28960601, 1836969235 )
  TEST_RRR_OP( 21, p.subuRNr, 24486, 307875649, 2244127726, 709058227 )
  TEST_RRR_OP( 22, p.subuRNr, 4294967286, 2913176461, 3063854267, 1572858027 )
  TEST_RRR_OP( 23, p.subuRNr, 4294172247, 3927391315, 2416644332, 670872589 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_SRC1_EQ_DEST( 24, p.subuRNr, 0, 1585914494, 2349670782 )
  TEST_RRR_SRC1_EQ_DEST( 25, p.subuRNr, 0, 3482393471, 2957132424 )
  
  TEST_RRR_SRC2_EQ_DEST( 26, p.subuRNr, 173, 1193835218, 4088138648 )
  TEST_RRR_SRC2_EQ_DEST( 27, p.subuRNr, 4293972599, 3634664185, 2616094698 )
  
  TEST_RRR_SRC12_EQ_DEST( 28, p.subuRNr, 0, 2946738387 )
  TEST_RRR_SRC12_EQ_DEST( 29, p.subuRNr, 0, 3431144041 )
  
  TEST_RRR_DEST_BYPASS( 48, 0, p.subuRNr, 4294962555, 2620240607, 3037888179, 134460380 )
  TEST_RRR_DEST_BYPASS( 49, 1, p.subuRNr, 4261870650, 3513754675, 2006850085, 2454662006 )
  TEST_RRR_DEST_BYPASS( 50, 2, p.subuRNr, 117303, 2355206897, 1205930446, 4277103644 )
  TEST_RRR_DEST_BYPASS( 51, 0, p.subuRNr, 2505679094, 3942249997, 3214654208, 2152961795 )
  TEST_RRR_DEST_BYPASS( 52, 1, p.subuRNr, 4287424481, 2810790134, 1833038439, 1845309811 )
  TEST_RRR_DEST_BYPASS( 53, 2, p.subuRNr, 4294787395, 4044072096, 2828980045, 2570321954 )
  TEST_RRR_SRC3_BYPASS( 54, 0, p.subuRNr, 2148037742, 2890210457, 1300552608, 743280903 )
  TEST_RRR_SRC3_BYPASS( 55, 1, p.subuRNr, 37, 2420678833, 2918482009, 3676258018 )
  TEST_RRR_SRC3_BYPASS( 56, 2, p.subuRNr, 4294967295, 2842358372, 904209439, 544743045 )
  TEST_RRR_SRC3_BYPASS( 57, 0, p.subuRNr, 4294966683, 1833213337, 3828700372, 1190270499 )
  TEST_RRR_SRC3_BYPASS( 58, 1, p.subuRNr, 8, 1268879365, 2651636603, 2328931206 )
  TEST_RRR_SRC3_BYPASS( 59, 2, p.subuRNr, 2589, 1424140878, 2300681492, 4139391504 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_SRC12_BYPASS( 30, 0, 0, p.subuRNr, 4294967116, 3309364872, 735563415, 1799824257 )
  TEST_RRR_SRC12_BYPASS( 31, 0, 1, p.subuRNr, 4294967217, 4144754365, 1870262169, 1492934884 )
  TEST_RRR_SRC12_BYPASS( 32, 0, 2, p.subuRNr, 0, 1029747000, 1062630975, 1352447364 )
  TEST_RRR_SRC12_BYPASS( 33, 1, 0, p.subuRNr, 4294967139, 1042736032, 2247247667, 960527028 )
  TEST_RRR_SRC12_BYPASS( 34, 1, 1, p.subuRNr, 4294966964, 1720938122, 1231435574, 328094178 )
  TEST_RRR_SRC12_BYPASS( 35, 1, 2, p.subuRNr, 3871794085, 3730488934, 481691648, 3307315723 )
  TEST_RRR_SRC12_BYPASS( 36, 2, 0, p.subuRNr, 6418, 664198517, 1528295059, 4028996285 )
  TEST_RRR_SRC12_BYPASS( 37, 2, 1, p.subuRNr, 5713509, 1090951046, 4023981032, 2553609433 )
  TEST_RRR_SRC12_BYPASS( 38, 2, 2, p.subuRNr, 110250032, 43637134, 3000864037, 3571638147 )
  TEST_RRR_SRC12_BYPASS( 39, 0, 0, p.subuRNr, 369, 1605637374, 427597557, 2379260591 )
  TEST_RRR_SRC12_BYPASS( 40, 0, 1, p.subuRNr, 4294948880, 1232260855, 2391373263, 628796978 )
  TEST_RRR_SRC12_BYPASS( 41, 0, 2, p.subuRNr, 4294965820, 1811655328, 2562024143, 1763275948 )
  TEST_RRR_SRC12_BYPASS( 42, 1, 0, p.subuRNr, 2868, 3019201388, 1478903406, 3066198262 )
  TEST_RRR_SRC12_BYPASS( 43, 1, 1, p.subuRNr, 0, 3550441987, 3260439870, 3067268737 )
  TEST_RRR_SRC12_BYPASS( 44, 1, 2, p.subuRNr, 681860, 35063818, 150653131, 1431514105 )
  TEST_RRR_SRC12_BYPASS( 45, 2, 0, p.subuRNr, 322, 712127975, 30756567, 3416157359 )
  TEST_RRR_SRC12_BYPASS( 46, 2, 1, p.subuRNr, 4131534281, 3395606206, 2269615203, 2088142086 )
  TEST_RRR_SRC12_BYPASS( 47, 2, 2, p.subuRNr, 4294967295, 4024480053, 608194783, 2834886584 )
  
  

  TEST_RRR_ZEROSRC1( 60, p.subuRNr, 11340, 2850534796, 46449428 )
  TEST_RRR_ZEROSRC1( 61, p.subuRNr, 1, 751896287, 1319556501 )
  
  TEST_RRR_ZEROSRC2( 62, p.subuRNr, 4038441956, 3533963889, 3277438549 )
  TEST_RRR_ZEROSRC2( 63, p.subuRNr, 276601244, 676157349, 952758593 )
  
  TEST_RRR_ZEROSRC3( 64, p.subuRNr, 4294967290, 3190503792, 2397797885 )
  TEST_RRR_ZEROSRC3( 65, p.subuRNr, 4294945114, 1453732969, 1538499280 )
  
  TEST_RRR_ZEROSRC12( 66, p.subuRNr, 1720005002, 1720005002 )
  TEST_RRR_ZEROSRC12( 67, p.subuRNr, 1793052867, 1793052867 )
  
  TEST_RRR_ZEROSRC123( 68, p.subuRNr, 0 )
  TEST_RRR_ZEROSRC123( 69, p.subuRNr, 0 )
  
  TEST_RRR_ZERODEST( 70, p.subuRNr, 3023054868, 3403718046 )
  TEST_RRR_ZERODEST( 71, p.subuRNr, 1620170980, 2113743221 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
