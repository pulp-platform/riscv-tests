# See LICENSE for license details.

#*****************************************************************************
# p.addN
#-----------------------------------------------------------------------------
#
# Test p.addN instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_OP( 2, p.addN, 0, 0, 0, 0 )
  TEST_RR_UIMM5_OP( 3, p.addN, 0, 0, 0, 31 )
  TEST_RR_UIMM5_OP( 4, p.addN, 1, 0, 1, 0 )
  TEST_RR_UIMM5_OP( 5, p.addN, 1, 1, 0, 0 )
  TEST_RR_UIMM5_OP( 6, p.addN, -2147483648, 2147483647, 1, 0 )
  TEST_RR_UIMM5_OP( 7, p.addN, -2147483647, -2147483648, 1, 0 )
  TEST_RR_UIMM5_OP( 8, p.addN, -2147483648, 1, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 9, p.addN, -2147483647, 1, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 10, p.addN, 1, 2147483647, 2147483647, 31 )
  TEST_RR_UIMM5_OP( 11, p.addN, -2, -2147483648, -2147483648, 31 )
  TEST_RR_UIMM5_OP( 12, p.addN, -1, 2147483647, -2147483648, 0 )
  TEST_RR_UIMM5_OP( 13, p.addN, -1, -2147483648, 2147483647, 0 )
  TEST_RR_UIMM5_OP( 14, p.addN, 2647234, -720716438, 2076100519, 9 )
  TEST_RR_UIMM5_OP( 15, p.addN, -292873, 456026113, -1655633675, 12 )
  TEST_RR_UIMM5_OP( 16, p.addN, 0, 1306658124, -1195848682, 31 )
  TEST_RR_UIMM5_OP( 17, p.addN, -109020426, -1590950801, -1897702803, 5 )
  TEST_RR_UIMM5_OP( 18, p.addN, -670386, -760787496, -1985112823, 12 )
  TEST_RR_UIMM5_OP( 19, p.addN, -8826536, -1722313576, 592516982, 7 )
  TEST_RR_UIMM5_OP( 20, p.addN, -4029, 2013771545, -2079774567, 14 )
  TEST_RR_UIMM5_OP( 21, p.addN, -250316, 1618499942, -2131146459, 11 )
  TEST_RR_UIMM5_OP( 22, p.addN, -55988, -1715691577, 1257044969, 13 )
  TEST_RR_UIMM5_OP( 23, p.addN, 122, 173814569, 1881604164, 24 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC1_EQ_DEST( 24, p.addN, 18062, -548480848, 1732233429, 16 )
  TEST_RR_UIMM5_SRC1_EQ_DEST( 25, p.addN, -3312066, -1068330815, -627446592, 9 )
  
  TEST_RR_UIMM5_SRC2_EQ_DEST( 26, p.addN, 596631168, 2014260194, 372264478, 2 )
  TEST_RR_UIMM5_SRC2_EQ_DEST( 27, p.addN, -1271110154, -819120555, -1723099753, 1 )
  
  TEST_RR_UIMM5_SRC12_EQ_DEST( 28, p.addN, -1338351004, 1478308146, 0 )
  TEST_RR_UIMM5_SRC12_EQ_DEST( 29, p.addN, -175853428, -1406827420, 4 )
  
  TEST_RR_UIMM5_DEST_BYPASS( 48, 0, p.addN, 7404, 970473893, 970473893, 18 )
  TEST_RR_UIMM5_DEST_BYPASS( 49, 1, p.addN, 12277, 1609282496, 1609282496, 18 )
  TEST_RR_UIMM5_DEST_BYPASS( 50, 2, p.addN, 389, 817015714, 817015714, 22 )
  TEST_RR_UIMM5_DEST_BYPASS( 51, 0, p.addN, 6959, 456086201, 456086201, 17 )
  TEST_RR_UIMM5_DEST_BYPASS( 52, 1, p.addN, 113106070, 452424282, 452424282, 3 )
  TEST_RR_UIMM5_DEST_BYPASS( 53, 2, p.addN, -448511, -918549318, -918549318, 12 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RR_UIMM5_SRC12_BYPASS( 30, 0, 0, p.addN, 1, 363922974, 634400328, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 31, 0, 1, p.addN, 571029, -946793132, 1092976678, 8 )
  TEST_RR_UIMM5_SRC12_BYPASS( 32, 0, 2, p.addN, 2, 2122997819, 676729385, 30 )
  TEST_RR_UIMM5_SRC12_BYPASS( 33, 1, 0, p.addN, -4545, -399687895, 381074544, 12 )
  TEST_RR_UIMM5_SRC12_BYPASS( 34, 1, 1, p.addN, 4, -931263877, 1076421332, 25 )
  TEST_RR_UIMM5_SRC12_BYPASS( 35, 1, 2, p.addN, -1385731724, -69264570, -1316467154, 0 )
  TEST_RR_UIMM5_SRC12_BYPASS( 36, 2, 0, p.addN, 2249829, 623049596, -551055042, 5 )
  TEST_RR_UIMM5_SRC12_BYPASS( 37, 2, 1, p.addN, -715, -1618315325, 1430935077, 18 )
  TEST_RR_UIMM5_SRC12_BYPASS( 38, 2, 2, p.addN, -844, -1242117761, 358088435, 20 )
  TEST_RR_UIMM5_SRC12_BYPASS( 39, 0, 0, p.addN, 1082, -41952893, 609313148, 19 )
  TEST_RR_UIMM5_SRC12_BYPASS( 40, 0, 1, p.addN, 1, 1383785277, -308949631, 30 )
  TEST_RR_UIMM5_SRC12_BYPASS( 41, 0, 2, p.addN, 1959802, -150870646, 652580139, 8 )
  TEST_RR_UIMM5_SRC12_BYPASS( 42, 1, 0, p.addN, -6, -1616767928, -1088951022, 29 )
  TEST_RR_UIMM5_SRC12_BYPASS( 43, 1, 1, p.addN, -271537, -1042722747, 486615958, 11 )
  TEST_RR_UIMM5_SRC12_BYPASS( 44, 1, 2, p.addN, 14976791, 1644096185, 272933145, 7 )
  TEST_RR_UIMM5_SRC12_BYPASS( 45, 2, 0, p.addN, 148631, -706256539, 1010653778, 11 )
  TEST_RR_UIMM5_SRC12_BYPASS( 46, 2, 1, p.addN, 137322, -770956423, 1895904666, 13 )
  TEST_RR_UIMM5_SRC12_BYPASS( 47, 2, 2, p.addN, -2844, 977786322, -1350499255, 17 )
  
  

  TEST_RR_UIMM5_ZEROSRC1( 54, p.addN, -43, -713384112, 24 )
  TEST_RR_UIMM5_ZEROSRC1( 55, p.addN, -2, -1051619835, 29 )
  
  TEST_RR_UIMM5_ZEROSRC2( 56, p.addN, 112587, 57644630, 9 )
  TEST_RR_UIMM5_ZEROSRC2( 57, p.addN, -99, -414529679, 22 )
  
  TEST_RR_UIMM5_ZEROSRC12( 58, p.addN, 0, 3 )
  TEST_RR_UIMM5_ZEROSRC12( 59, p.addN, 0, 26 )
  
  TEST_RR_UIMM5_ZERODEST( 60, p.addN, 207720151, -1169794955, 0 )
  TEST_RR_UIMM5_ZERODEST( 61, p.addN, 906458455, -341855391, 16 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
