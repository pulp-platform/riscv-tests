# See LICENSE for license details.

#*****************************************************************************
# p.addNr
#-----------------------------------------------------------------------------
#
# Test p.addNr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_OP( 2, p.addNr, 0, 0, 0, 0 )
  TEST_RRR_OP( 3, p.addNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 4, p.addNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 5, p.addNr, 1, 1, 0, 0 )
  TEST_RRR_OP( 6, p.addNr, -2147483648, 2147483647, 0, 1 )
  TEST_RRR_OP( 7, p.addNr, -2147483647, -2147483648, 0, 1 )
  TEST_RRR_OP( 8, p.addNr, -2147483648, 1, 0, 2147483647 )
  TEST_RRR_OP( 9, p.addNr, -2147483647, 1, 0, -2147483648 )
  TEST_RRR_OP( 10, p.addNr, 1, 2147483647, 31, 2147483647 )
  TEST_RRR_OP( 11, p.addNr, -2, -2147483648, 31, -2147483648 )
  TEST_RRR_OP( 12, p.addNr, -1, 2147483647, 0, -2147483648 )
  TEST_RRR_OP( 13, p.addNr, -1, -2147483648, 0, 2147483647 )
  TEST_RRR_OP( 14, p.addNr, 1245523544, -561547067, 3770502752, 1807070611 )
  TEST_RRR_OP( 15, p.addNr, -5, 1010755465, 772691835, -1581402726 )
  TEST_RRR_OP( 16, p.addNr, 954990607, -549865326, 2198513344, 1504855933 )
  TEST_RRR_OP( 17, p.addNr, 1, -96921267, 1506547614, 1366135646 )
  TEST_RRR_OP( 18, p.addNr, 107039760, 1684449878, 3780228258, -1256290835 )
  TEST_RRR_OP( 19, p.addNr, 6408395, 2005654697, 3039448264, -365105394 )
  TEST_RRR_OP( 20, p.addNr, -1, 688456926, 22339679, -2146238352 )
  TEST_RRR_OP( 21, p.addNr, 47001879, 957135828, 191636386, -769128311 )
  TEST_RRR_OP( 22, p.addNr, -24497683, -1873807187, 649626851, 1677825723 )
  TEST_RRR_OP( 23, p.addNr, -8, -145746202, 2303629975, 84872114 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_SRC1_EQ_DEST( 24, p.addNr, -462, -1933725105, 1282156119 )
  TEST_RRR_SRC1_EQ_DEST( 25, p.addNr, 117, 246858910, 1462761494 )
  
  TEST_RRR_SRC2_EQ_DEST( 26, p.addNr, 81445345, 255754542, 1047370980 )
  TEST_RRR_SRC2_EQ_DEST( 27, p.addNr, -1, -1205046490, 129300607 )
  
  TEST_RRR_SRC12_EQ_DEST( 28, p.addNr, 1123485184, 561742592 )
  TEST_RRR_SRC12_EQ_DEST( 29, p.addNr, 27740578, 1775397031 )
  
  TEST_RRR_DEST_BYPASS( 48, 0, p.addNr, 122, 501514695, 535582261, -245572735 )
  TEST_RRR_DEST_BYPASS( 49, 1, p.addNr, 31, 30955650, 1522712634, 2057877907 )
  TEST_RRR_DEST_BYPASS( 50, 2, p.addNr, 2, 4295715, 1802445085, 1499373287 )
  TEST_RRR_DEST_BYPASS( 51, 0, p.addNr, 0, 2012437294, 4267175935, -1962794583 )
  TEST_RRR_DEST_BYPASS( 52, 1, p.addNr, 432978436, 1507654093, 2148469059, 1956173402 )
  TEST_RRR_DEST_BYPASS( 53, 2, p.addNr, -77, 790680534, 3349800503, -1428966497 )
  TEST_RRR_SRC3_BYPASS( 54, 0, p.addNr, -1, 89012705, 3941330078, -504900372 )
  TEST_RRR_SRC3_BYPASS( 55, 1, p.addNr, 12, 1292560400, 554042201, -874606392 )
  TEST_RRR_SRC3_BYPASS( 56, 2, p.addNr, 35, 48628752, 2225353049, 1135440672 )
  TEST_RRR_SRC3_BYPASS( 57, 0, p.addNr, -206, -2101619849, 168977845, 1669880005 )
  TEST_RRR_SRC3_BYPASS( 58, 1, p.addNr, -6, 1865007508, 416222905, -2038240317 )
  TEST_RRR_SRC3_BYPASS( 59, 2, p.addNr, 51, 2109230257, 1894941082, 1361268378 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_SRC12_BYPASS( 30, 0, 0, p.addNr, -9, 112980165, 1748816603, -1302889912 )
  TEST_RRR_SRC12_BYPASS( 31, 0, 1, p.addNr, -63119827, -488649249, 1959817346, 236169941 )
  TEST_RRR_SRC12_BYPASS( 32, 0, 2, p.addNr, 16, 1941037963, 3177318811, 339258931 )
  TEST_RRR_SRC12_BYPASS( 33, 1, 0, p.addNr, -15476, -1757296082, 2413314353, -271075448 )
  TEST_RRR_SRC12_BYPASS( 34, 1, 1, p.addNr, 26100472, 1926169174, 1515832869, -1090954045 )
  TEST_RRR_SRC12_BYPASS( 35, 1, 2, p.addNr, 118407875, -491444203, 2872495554, 965075704 )
  TEST_RRR_SRC12_BYPASS( 36, 2, 0, p.addNr, -106776782, 408512102, 531752355, -1262726352 )
  TEST_RRR_SRC12_BYPASS( 37, 2, 1, p.addNr, 119, 1166504827, 1518568792, 840919635 )
  TEST_RRR_SRC12_BYPASS( 38, 2, 2, p.addNr, 1, 2685619, 3055694846, 2019912317 )
  TEST_RRR_SRC12_BYPASS( 39, 0, 0, p.addNr, 21, -523672332, 2102535354, 1996035104 )
  TEST_RRR_SRC12_BYPASS( 40, 0, 1, p.addNr, 1223, -505616882, 606536751, 545694138 )
  TEST_RRR_SRC12_BYPASS( 41, 0, 2, p.addNr, -3188788, -1736792857, 848076800, 1733604069 )
  TEST_RRR_SRC12_BYPASS( 42, 1, 0, p.addNr, 934267, -218905196, 2899062859, 2132284191 )
  TEST_RRR_SRC12_BYPASS( 43, 1, 1, p.addNr, 2123422688, 1761019156, 1849565600, 362403532 )
  TEST_RRR_SRC12_BYPASS( 44, 1, 2, p.addNr, -729785, -1640212589, 1964417324, -1348984193 )
  TEST_RRR_SRC12_BYPASS( 45, 2, 0, p.addNr, 11, 1193612083, 4029996316, 1891001031 )
  TEST_RRR_SRC12_BYPASS( 46, 2, 1, p.addNr, 594, 1192935859, 2819873142, 1301381273 )
  TEST_RRR_SRC12_BYPASS( 47, 2, 2, p.addNr, 1854774, -698678645, 2702722889, 1648323284 )
  
  

  TEST_RRR_ZEROSRC1( 60, p.addNr, 0, 1843216535, 7755701 )
  TEST_RRR_ZEROSRC1( 61, p.addNr, 3, 2029115068, 826061639 )
  
  TEST_RRR_ZEROSRC2( 62, p.addNr, 233175651, -112986573, 346162224 )
  TEST_RRR_ZEROSRC2( 63, p.addNr, 729402419, 667343040, 62059379 )
  
  TEST_RRR_ZEROSRC3( 64, p.addNr, -6778516, -867649999, 1989156679 )
  TEST_RRR_ZEROSRC3( 65, p.addNr, 10437914, 1336053048, 1109952647 )
  
  TEST_RRR_ZEROSRC12( 66, p.addNr, 1132700064, 1132700064 )
  TEST_RRR_ZEROSRC12( 67, p.addNr, -837997544, -837997544 )
  
  TEST_RRR_ZEROSRC123( 68, p.addNr, 0 )
  TEST_RRR_ZEROSRC123( 69, p.addNr, 0 )
  
  TEST_RRR_ZERODEST( 70, p.addNr, 2114435442, 2510643606 )
  TEST_RRR_ZERODEST( 71, p.addNr, -381153571, 2623665805 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
