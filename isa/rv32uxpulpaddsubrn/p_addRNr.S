# See LICENSE for license details.

#*****************************************************************************
# p.addRNr
#-----------------------------------------------------------------------------
#
# Test p.addRNr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_OP( 2, p.addRNr, 0, 0, 0, 0 )
  TEST_RRR_OP( 3, p.addRNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 4, p.addRNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 5, p.addRNr, 1, 1, 0, 0 )
  TEST_RRR_OP( 6, p.addRNr, -2147483648, 2147483647, 0, 1 )
  TEST_RRR_OP( 7, p.addRNr, -2147483647, -2147483648, 0, 1 )
  TEST_RRR_OP( 8, p.addRNr, -2147483648, 1, 0, 2147483647 )
  TEST_RRR_OP( 9, p.addRNr, -2147483647, 1, 0, -2147483648 )
  TEST_RRR_OP( 10, p.addRNr, 2, 2147483647, 31, 2147483647 )
  TEST_RRR_OP( 11, p.addRNr, -2, -2147483648, 31, -2147483648 )
  TEST_RRR_OP( 12, p.addRNr, -1, 2147483647, 0, -2147483648 )
  TEST_RRR_OP( 13, p.addRNr, -1, -2147483648, 0, 2147483647 )
  TEST_RRR_OP( 14, p.addRNr, -1421613, -1217019512, 1312318921, 489153811 )
  TEST_RRR_OP( 15, p.addRNr, 122287050, -1151725260, 3901663811, 2130021661 )
  TEST_RRR_OP( 16, p.addRNr, -13, -2001120241, 4225380667, 225861077 )
  TEST_RRR_OP( 17, p.addRNr, 20049678, 1879857726, 2848296902, -596678332 )
  TEST_RRR_OP( 18, p.addRNr, -6604983, -1709452981, 1942968776, 18577329 )
  TEST_RRR_OP( 19, p.addRNr, -1599795, -630000818, 4222844362, -1008188774 )
  TEST_RRR_OP( 20, p.addRNr, 119, 1642855384, 2949721687, -641049610 )
  TEST_RRR_OP( 21, p.addRNr, 1448989, 887357349, 2515407561, -145475026 )
  TEST_RRR_OP( 22, p.addRNr, 4179, -1551062463, 895223921, 2098842852 )
  TEST_RRR_OP( 23, p.addRNr, -10, -1877669851, 2625330012, -798052080 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_SRC1_EQ_DEST( 24, p.addRNr, -2, -2001414711, 846107775 )
  TEST_RRR_SRC1_EQ_DEST( 25, p.addRNr, -8, -1036028706, 1566999932 )
  
  TEST_RRR_SRC2_EQ_DEST( 26, p.addRNr, 24699, 1319229993, 1918114481 )
  TEST_RRR_SRC2_EQ_DEST( 27, p.addRNr, 0, 1124139218, 3017251805 )
  
  TEST_RRR_SRC12_EQ_DEST( 28, p.addRNr, 0, 376173663 )
  TEST_RRR_SRC12_EQ_DEST( 29, p.addRNr, 14850201, 1900825736 )
  
  TEST_RRR_DEST_BYPASS( 48, 0, p.addRNr, -52, -1676653652, 3284791802, -1822465472 )
  TEST_RRR_DEST_BYPASS( 49, 1, p.addRNr, -42403536, -1725978816, 2931636902, -987847464 )
  TEST_RRR_DEST_BYPASS( 50, 2, p.addRNr, -161, -787566088, 2242771992, -1918047881 )
  TEST_RRR_DEST_BYPASS( 51, 0, p.addRNr, -2112653, -1655851947, 3113589539, 1638950721 )
  TEST_RRR_DEST_BYPASS( 52, 1, p.addRNr, -87, -1727480867, 3881065913, -1205116672 )
  TEST_RRR_DEST_BYPASS( 53, 2, p.addRNr, 2713, 365196324, 1008819375, -276297322 )
  TEST_RRR_SRC3_BYPASS( 54, 0, p.addRNr, 8374, 982717221, 2006808402, 1212359512 )
  TEST_RRR_SRC3_BYPASS( 55, 1, p.addRNr, 15436979, 1336002746, 2953061991, 639930610 )
  TEST_RRR_SRC3_BYPASS( 56, 2, p.addRNr, 0, -1435940204, 2731431191, 1438177789 )
  TEST_RRR_SRC3_BYPASS( 57, 0, p.addRNr, 1354373, 363749644, 1629784296, -17030086 )
  TEST_RRR_SRC3_BYPASS( 58, 1, p.addRNr, 16, -682189863, 781754329, 1205048764 )
  TEST_RRR_SRC3_BYPASS( 59, 2, p.addRNr, -128, -1608519429, 460059703, 538829054 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_SRC12_BYPASS( 30, 0, 0, p.addRNr, 76, 1555706270, 457652408, -272758140 )
  TEST_RRR_SRC12_BYPASS( 31, 0, 1, p.addRNr, 103, -1208607874, 2466806326, 1638733128 )
  TEST_RRR_SRC12_BYPASS( 32, 0, 2, p.addRNr, -2, -985040093, 2376904860, 560966381 )
  TEST_RRR_SRC12_BYPASS( 33, 1, 0, p.addRNr, 426881, 496862305, 3812169033, -278299483 )
  TEST_RRR_SRC12_BYPASS( 34, 1, 1, p.addRNr, 5, 1320189016, 2553451805, 1217432106 )
  TEST_RRR_SRC12_BYPASS( 35, 1, 2, p.addRNr, 19149, 443703764, 109446641, 2066222384 )
  TEST_RRR_SRC12_BYPASS( 36, 2, 0, p.addRNr, -902312282, -1125711329, 2994099937, -678913236 )
  TEST_RRR_SRC12_BYPASS( 37, 2, 1, p.addRNr, 632, 1014568092, 1973458293, 310185731 )
  TEST_RRR_SRC12_BYPASS( 38, 2, 2, p.addRNr, -17874, 79447501, 2983472046, -372292203 )
  TEST_RRR_SRC12_BYPASS( 39, 0, 0, p.addRNr, 175804, -1169089907, 3515626156, 1889182347 )
  TEST_RRR_SRC12_BYPASS( 40, 0, 1, p.addRNr, 20, 11211251, 1321691194, 1305001429 )
  TEST_RRR_SRC12_BYPASS( 41, 0, 2, p.addRNr, 172321586, 1820921196, 1077517476, 936224180 )
  TEST_RRR_SRC12_BYPASS( 42, 1, 0, p.addRNr, -789515, -1201749708, 1591346092, -2032104564 )
  TEST_RRR_SRC12_BYPASS( 43, 1, 1, p.addRNr, -864865738, 49464357, 188821408, -914330095 )
  TEST_RRR_SRC12_BYPASS( 44, 1, 2, p.addRNr, 45970636, -127797933, 1858351908, 863328113 )
  TEST_RRR_SRC12_BYPASS( 45, 2, 0, p.addRNr, -42998, -723086633, 1957508528, -2094835896 )
  TEST_RRR_SRC12_BYPASS( 46, 2, 1, p.addRNr, 2475995, 1392573114, 2297495817, -124863556 )
  TEST_RRR_SRC12_BYPASS( 47, 2, 2, p.addRNr, 0, 789156316, 3654180031, -167935396 )
  
  

  TEST_RRR_ZEROSRC1( 60, p.addRNr, -211652011, 3185599297, -423304023 )
  TEST_RRR_ZEROSRC1( 61, p.addRNr, 4, 540438009, 136557412 )
  
  TEST_RRR_ZEROSRC2( 62, p.addRNr, 1397769148, -370594879, 1768364027 )
  TEST_RRR_ZEROSRC2( 63, p.addRNr, -1991529202, 893392822, 1410045272 )
  
  TEST_RRR_ZEROSRC3( 64, p.addRNr, 261454477, 2091635816, 3427262307 )
  TEST_RRR_ZEROSRC3( 65, p.addRNr, 2, 1277158404, 1669309021 )
  
  TEST_RRR_ZEROSRC12( 66, p.addRNr, -708211684, -708211684 )
  TEST_RRR_ZEROSRC12( 67, p.addRNr, -1762235312, -1762235312 )
  
  TEST_RRR_ZEROSRC123( 68, p.addRNr, 0 )
  TEST_RRR_ZEROSRC123( 69, p.addRNr, 0 )
  
  TEST_RRR_ZERODEST( 70, p.addRNr, 1102970422, 2097332721 )
  TEST_RRR_ZERODEST( 71, p.addRNr, 690865060, 3323648425 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
