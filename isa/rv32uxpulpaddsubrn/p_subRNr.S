# See LICENSE for license details.

#*****************************************************************************
# p.subRNr
#-----------------------------------------------------------------------------
#
# Test p.subRNr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_RRR_OP( 2, p.subRNr, 0, 0, 0, 0 )
  TEST_RRR_OP( 3, p.subRNr, 0, 0, 31, 0 )
  TEST_RRR_OP( 4, p.subRNr, 1, 0, 0, 1 )
  TEST_RRR_OP( 5, p.subRNr, -1, 1, 0, 0 )
  TEST_RRR_OP( 6, p.subRNr, -2147483646, 2147483647, 0, 1 )
  TEST_RRR_OP( 7, p.subRNr, -2147483647, -2147483648, 0, 1 )
  TEST_RRR_OP( 8, p.subRNr, 2147483646, 1, 0, 2147483647 )
  TEST_RRR_OP( 9, p.subRNr, 2147483647, 1, 0, -2147483648 )
  TEST_RRR_OP( 10, p.subRNr, 0, 2147483647, 31, 2147483647 )
  TEST_RRR_OP( 11, p.subRNr, 0, -2147483648, 31, -2147483648 )
  TEST_RRR_OP( 12, p.subRNr, 1, 2147483647, 0, -2147483648 )
  TEST_RRR_OP( 13, p.subRNr, -1, -2147483648, 0, 2147483647 )
  TEST_RRR_OP( 14, p.subRNr, -37241695, 1994095537, 672080261, 802361302 )
  TEST_RRR_OP( 15, p.subRNr, -95524721, 1755618643, 4237442437, -1301172445 )
  TEST_RRR_OP( 16, p.subRNr, -1, 1142578182, 1781540606, 360298481 )
  TEST_RRR_OP( 17, p.subRNr, 104, -1939868040, 1231107669, -1722218020 )
  TEST_RRR_OP( 18, p.subRNr, 1276098, -1390609427, 373486027, 1222838970 )
  TEST_RRR_OP( 19, p.subRNr, 149857, -1415406797, 506057198, 1039846782 )
  TEST_RRR_OP( 20, p.subRNr, 22824964, -416952972, 367797574, 1043844745 )
  TEST_RRR_OP( 21, p.subRNr, -2, 1423819073, 3171110107, 1183111086 )
  TEST_RRR_OP( 22, p.subRNr, 11957423, -1714528033, 3840510920, 1346572160 )
  TEST_RRR_OP( 23, p.subRNr, 16132, -877167206, 3949971152, 180073845 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_RRR_SRC1_EQ_DEST( 24, p.subRNr, 0, 283481170, 3313622179 )
  TEST_RRR_SRC1_EQ_DEST( 25, p.subRNr, 0, -1565480846, 2193841746 )
  
  TEST_RRR_SRC2_EQ_DEST( 26, p.subRNr, 7219, -1617254063, 275254642 )
  TEST_RRR_SRC2_EQ_DEST( 27, p.subRNr, -501992374, 1718168566, 1216176192 )
  
  TEST_RRR_SRC12_EQ_DEST( 28, p.subRNr, 0, 75110179 )
  TEST_RRR_SRC12_EQ_DEST( 29, p.subRNr, 0, 1506550127 )
  
  TEST_RRR_DEST_BYPASS( 48, 0, p.subRNr, 24820, -2065674308, 683113425, 1187573583 )
  TEST_RRR_DEST_BYPASS( 49, 1, p.subRNr, -62661, 200851666, 1273765646, -825779112 )
  TEST_RRR_DEST_BYPASS( 50, 2, p.subRNr, 2, -161236836, 3721700539, 164386108 )
  TEST_RRR_DEST_BYPASS( 51, 0, p.subRNr, 903740818, -1598792215, 1128723170, 2016171055 )
  TEST_RRR_DEST_BYPASS( 52, 1, p.subRNr, 326298, -744384433, 1444446696, -660852143 )
  TEST_RRR_DEST_BYPASS( 53, 2, p.subRNr, 1835512, -55928010, 3939636040, 413963102 )
  TEST_RRR_SRC3_BYPASS( 54, 0, p.subRNr, 72, -1687399873, 2946413175, -1086956567 )
  TEST_RRR_SRC3_BYPASS( 55, 1, p.subRNr, -626, 972656007, 3870880406, -1651204591 )
  TEST_RRR_SRC3_BYPASS( 56, 2, p.subRNr, 2873990, -689598655, 399363912, 46142771 )
  TEST_RRR_SRC3_BYPASS( 57, 0, p.subRNr, -14694481, -1287167951, 3742522946, -1345945877 )
  TEST_RRR_SRC3_BYPASS( 58, 1, p.subRNr, 2001, 1073016543, 3469609779, 2122162877 )
  TEST_RRR_SRC3_BYPASS( 59, 2, p.subRNr, -1294627, 327802108, 3555223498, -997896308 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_RRR_SRC12_BYPASS( 30, 0, 0, p.subRNr, 16135923, -1976653689, 1272596423, 88744393 )
  TEST_RRR_SRC12_BYPASS( 31, 0, 1, p.subRNr, -1860995, 446860171, 513003370, -1458799022 )
  TEST_RRR_SRC12_BYPASS( 32, 0, 2, p.subRNr, -5, -1059303312, 4177738139, -1777471164 )
  TEST_RRR_SRC12_BYPASS( 33, 1, 0, p.subRNr, -8946, 1391681267, 3011456978, -953419890 )
  TEST_RRR_SRC12_BYPASS( 34, 1, 1, p.subRNr, -247, -109201610, 4286553462, -1146687261 )
  TEST_RRR_SRC12_BYPASS( 35, 1, 2, p.subRNr, -98960, -739545745, 1054099629, -1550229509 )
  TEST_RRR_SRC12_BYPASS( 36, 2, 0, p.subRNr, 1079981, -941941327, 1070888203, 1269859571 )
  TEST_RRR_SRC12_BYPASS( 37, 2, 1, p.subRNr, 94147717, 30794239, 2643375043, 783975978 )
  TEST_RRR_SRC12_BYPASS( 38, 2, 2, p.subRNr, 9582, 2015294258, 2121546124, 2054541307 )
  TEST_RRR_SRC12_BYPASS( 39, 0, 0, p.subRNr, 86727148, 1254840158, 2361268835, 1948657338 )
  TEST_RRR_SRC12_BYPASS( 40, 0, 1, p.subRNr, 11320726, -1192661266, 61071880, 1705444593 )
  TEST_RRR_SRC12_BYPASS( 41, 0, 2, p.subRNr, 332, -984302283, 4275326515, -810314420 )
  TEST_RRR_SRC12_BYPASS( 42, 1, 0, p.subRNr, -20259764, -129856818, 3159706310, -1426481699 )
  TEST_RRR_SRC12_BYPASS( 43, 1, 1, p.subRNr, -671, 977327426, 1614588374, -1837808515 )
  TEST_RRR_SRC12_BYPASS( 44, 1, 2, p.subRNr, 421023325, 365950334, 4188583202, 2050043633 )
  TEST_RRR_SRC12_BYPASS( 45, 2, 0, p.subRNr, 7402, 808169768, 2489621169, 1778380569 )
  TEST_RRR_SRC12_BYPASS( 46, 2, 1, p.subRNr, -4, 368958431, 507739323, -233161829 )
  TEST_RRR_SRC12_BYPASS( 47, 2, 2, p.subRNr, -955, -1046032240, 2854164658, -1296270792 )
  
  

  TEST_RRR_ZEROSRC1( 60, p.subRNr, 6176, 2853391344, 404728355 )
  TEST_RRR_ZEROSRC1( 61, p.subRNr, -12264, 732724529, -1607453905 )
  
  TEST_RRR_ZEROSRC2( 62, p.subRNr, -32226388, 1551040118, 1518813730 )
  TEST_RRR_ZEROSRC2( 63, p.subRNr, -1331735126, 226101326, -1105633800 )
  
  TEST_RRR_ZEROSRC3( 64, p.subRNr, 19, -1246207073, 394909178 )
  TEST_RRR_ZEROSRC3( 65, p.subRNr, 38, -1268686378, 2574787641 )
  
  TEST_RRR_ZEROSRC12( 66, p.subRNr, 14743482, 14743482 )
  TEST_RRR_ZEROSRC12( 67, p.subRNr, 902383257, 902383257 )
  
  TEST_RRR_ZEROSRC123( 68, p.subRNr, 0 )
  TEST_RRR_ZEROSRC123( 69, p.subRNr, 0 )
  
  TEST_RRR_ZERODEST( 70, p.subRNr, -2005291347, 1635748961 )
  TEST_RRR_ZERODEST( 71, p.subRNr, 44186169, 414028844 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
