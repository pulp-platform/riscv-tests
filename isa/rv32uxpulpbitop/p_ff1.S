# See LICENSE for license details.

#*****************************************************************************
# p.ff1
#-----------------------------------------------------------------------------
#
# Test p.ff1 instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_R_OP( 2, p.ff1, 32, 0b00000000000000000000000000000000 )
  TEST_R_OP( 3, p.ff1, 0, 0b00000000000000000000000000000001 )
  TEST_R_OP( 4, p.ff1, 31, 0b10000000000000000000000000000000 )
  TEST_R_OP( 5, p.ff1, 0, 0b11111111111111111111111111111111 )
  TEST_R_OP( 6, p.ff1, 0, 0b01111111111111111111111111111111 )
  TEST_R_OP( 7, p.ff1, 1, 0b11111111111111111111111111111110 )
  TEST_R_OP( 8, p.ff1, 0, 0b10011001000110011001110101101101 )
  TEST_R_OP( 9, p.ff1, 0, 0b10101000011000000100100110001111 )
  TEST_R_OP( 10, p.ff1, 0, 0b00011111010110101100001101001111 )
  TEST_R_OP( 11, p.ff1, 1, 0b10110101001010001011111110111010 )
  TEST_R_OP( 12, p.ff1, 0, 0b00001001110010110000111001010111 )
  TEST_R_OP( 13, p.ff1, 1, 0b11110011011000001101000011101010 )
  TEST_R_OP( 14, p.ff1, 2, 0b01110100011101100101101011100100 )
  TEST_R_OP( 15, p.ff1, 1, 0b01010000011101011100000001010010 )
  TEST_R_OP( 16, p.ff1, 3, 0b10001000010000100001011100101000 )
  TEST_R_OP( 17, p.ff1, 0, 0b00000010111101001000011111010001 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_R_SRC1_EQ_DEST( 18, p.ff1, 0, 0b10001011011110111100011011101101 )
  TEST_R_SRC1_EQ_DEST( 19, p.ff1, 0, 0b00101110110100000001001111001011 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_R_DEST_BYPASS( 20, 0, p.ff1, 1, 0b10100110000011110000100101000110 )
  TEST_R_DEST_BYPASS( 21, 1, p.ff1, 0, 0b10010110100111000100101100011101 )
  TEST_R_DEST_BYPASS( 22, 2, p.ff1, 1, 0b00010010000000111010101101001110 )
  TEST_R_DEST_BYPASS( 23, 0, p.ff1, 1, 0b01101010001001011010101010110110 )
  TEST_R_DEST_BYPASS( 24, 1, p.ff1, 5, 0b11000011010010000111110110100000 )
  TEST_R_DEST_BYPASS( 25, 2, p.ff1, 0, 0b11101111110101001001010011101101 )
  

  TEST_R_ZEROSRC1( 26, p.ff1, 32 )
  TEST_R_ZEROSRC1( 27, p.ff1, 32 )
  
  TEST_R_ZERODEST( 28, p.ff1, 0b00100101110110000110111110111101 )
  TEST_R_ZERODEST( 29, p.ff1, 0b10010001111100100101001011100010 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
