# See LICENSE for license details.

#*****************************************************************************
# p.fl1
#-----------------------------------------------------------------------------
#
# Test p.fl1 instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_R_OP( 2, p.fl1, 32, 0b00000000000000000000000000000000 )
  TEST_R_OP( 3, p.fl1, 0, 0b00000000000000000000000000000001 )
  TEST_R_OP( 4, p.fl1, 31, 0b10000000000000000000000000000000 )
  TEST_R_OP( 5, p.fl1, 31, 0b11111111111111111111111111111111 )
  TEST_R_OP( 6, p.fl1, 30, 0b01111111111111111111111111111111 )
  TEST_R_OP( 7, p.fl1, 31, 0b11111111111111111111111111111110 )
  TEST_R_OP( 8, p.fl1, 31, 0b11110001101100001111110001010001 )
  TEST_R_OP( 9, p.fl1, 29, 0b00101011010111110011100100011010 )
  TEST_R_OP( 10, p.fl1, 31, 0b10011100111000010110111011010111 )
  TEST_R_OP( 11, p.fl1, 31, 0b11010110011100111100110111000000 )
  TEST_R_OP( 12, p.fl1, 31, 0b10010000101010011011111101101100 )
  TEST_R_OP( 13, p.fl1, 31, 0b11011100110000011111010111100100 )
  TEST_R_OP( 14, p.fl1, 30, 0b01111010011101100011011000001110 )
  TEST_R_OP( 15, p.fl1, 30, 0b01000100010100100011011100000001 )
  TEST_R_OP( 16, p.fl1, 29, 0b00110001000001000100100110010010 )
  TEST_R_OP( 17, p.fl1, 30, 0b01001000101110001111000010100000 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_R_SRC1_EQ_DEST( 18, p.fl1, 30, 0b01011010000111000111101111011110 )
  TEST_R_SRC1_EQ_DEST( 19, p.fl1, 31, 0b11000110000001101011011111100001 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_R_DEST_BYPASS( 20, 0, p.fl1, 29, 0b00101010110000111100100011110010 )
  TEST_R_DEST_BYPASS( 21, 1, p.fl1, 31, 0b10111101000110001001011001100101 )
  TEST_R_DEST_BYPASS( 22, 2, p.fl1, 30, 0b01000111100110010110100110100110 )
  TEST_R_DEST_BYPASS( 23, 0, p.fl1, 31, 0b11001011100100100010001001000101 )
  TEST_R_DEST_BYPASS( 24, 1, p.fl1, 31, 0b10000010100011000000110110111010 )
  TEST_R_DEST_BYPASS( 25, 2, p.fl1, 30, 0b01011110010001100111010111000101 )
  

  TEST_R_ZEROSRC1( 26, p.fl1, 32 )
  TEST_R_ZEROSRC1( 27, p.fl1, 32 )
  
  TEST_R_ZERODEST( 28, p.fl1, 0b11111101100011011001010010001100 )
  TEST_R_ZERODEST( 29, p.fl1, 0b11110011100101111110000000001100 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
