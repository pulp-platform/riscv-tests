# See LICENSE for license details.

#*****************************************************************************
# p.clb
#-----------------------------------------------------------------------------
#
# Test p.clb instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_R_OP( 2, p.clb, 0, 0b00000000000000000000000000000000 )
  TEST_R_OP( 3, p.clb, 31, 0b00000000000000000000000000000001 )
  TEST_R_OP( 4, p.clb, 1, 0b10000000000000000000000000000000 )
  TEST_R_OP( 5, p.clb, 32, 0b11111111111111111111111111111111 )
  TEST_R_OP( 6, p.clb, 1, 0b01111111111111111111111111111111 )
  TEST_R_OP( 7, p.clb, 31, 0b11111111111111111111111111111110 )
  TEST_R_OP( 8, p.clb, 1, 0b10011111101101100010001011011110 )
  TEST_R_OP( 9, p.clb, 2, 0b11011000101110100100101010111110 )
  TEST_R_OP( 10, p.clb, 3, 0b00010011110010011111001110101000 )
  TEST_R_OP( 11, p.clb, 7, 0b00000001001111001101111100111011 )
  TEST_R_OP( 12, p.clb, 1, 0b01000111100001001101000011010100 )
  TEST_R_OP( 13, p.clb, 1, 0b10011100110000011101111110100101 )
  TEST_R_OP( 14, p.clb, 1, 0b10100011000110001101111110011011 )
  TEST_R_OP( 15, p.clb, 1, 0b01000110100111000101110111111001 )
  TEST_R_OP( 16, p.clb, 1, 0b01100110000001010100111110101001 )
  TEST_R_OP( 17, p.clb, 6, 0b00000011100100111100110001101110 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_R_SRC1_EQ_DEST( 18, p.clb, 3, 0b11101000001011111101101010101010 )
  TEST_R_SRC1_EQ_DEST( 19, p.clb, 3, 0b11100010011111010111000001000010 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_R_DEST_BYPASS( 20, 0, p.clb, 1, 0b10011111000010110000000011100110 )
  TEST_R_DEST_BYPASS( 21, 1, p.clb, 1, 0b10000100100000101010001010000100 )
  TEST_R_DEST_BYPASS( 22, 2, p.clb, 1, 0b10010011110101101001001100101010 )
  TEST_R_DEST_BYPASS( 23, 0, p.clb, 3, 0b11100110001001001100011100111110 )
  TEST_R_DEST_BYPASS( 24, 1, p.clb, 2, 0b11000000010010100111001010011001 )
  TEST_R_DEST_BYPASS( 25, 2, p.clb, 2, 0b00101001111011101001010011010001 )
  

  TEST_R_ZEROSRC1( 26, p.clb, 0 )
  TEST_R_ZEROSRC1( 27, p.clb, 0 )
  
  TEST_R_ZERODEST( 28, p.clb, 0b10111001001011110000011110100101 )
  TEST_R_ZERODEST( 29, p.clb, 0b00011010101110000111101100101111 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
