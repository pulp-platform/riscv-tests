# See LICENSE for license details.

#*****************************************************************************
# p.bclr
#-----------------------------------------------------------------------------
#
# Test p.bclr instruction.
# 
#

#include "riscv_test.h"
#include "test_macros.h"

RVTEST_RV32U
RVTEST_CODE_BEGIN

  #-------------------------------------------------------------
  # Arithmetic tests
  #-------------------------------------------------------------
  TEST_UIMM5_UIMM5_OP( 2, p.bclr, 0b11111111111111111111111111111110, 0b11111111111111111111111111111111, 0, 0 )
  TEST_UIMM5_UIMM5_OP( 3, p.bclr, 0b11111111111111111111111111111101, 0b11111111111111111111111111111111, 0, 1 )
  TEST_UIMM5_UIMM5_OP( 4, p.bclr, 0b11111111111111111111111111111100, 0b11111111111111111111111111111111, 1, 0 )
  TEST_UIMM5_UIMM5_OP( 5, p.bclr, 0b00000000000000000000000000000000, 0b11111111111111111111111111111111, 31, 0 )
  TEST_UIMM5_UIMM5_OP( 6, p.bclr, 0b00000000000000000000000000000001, 0b11111111111111111111111111111111, 31, 1 )
  TEST_UIMM5_UIMM5_OP( 7, p.bclr, 0b01111111111111111111111111111111, 0b11111111111111111111111111111111, 0, 31 )
  TEST_UIMM5_UIMM5_OP( 8, p.bclr, 0b00111111111111111111111111111111, 0b11111111111111111111111111111111, 31, 30 )
  TEST_UIMM5_UIMM5_OP( 9, p.bclr, 0b01111111111111111111111111111111, 0b11111111111111111111111111111111, 31, 31 )
  TEST_UIMM5_UIMM5_OP( 10, p.bclr, 0b00000000000000001100000011110110, 0b10010100110000101100000011110110, 27, 17 )
  TEST_UIMM5_UIMM5_OP( 11, p.bclr, 0b00000000101011010111011101100111, 0b10000000101011010111011101100111, 31, 28 )
  TEST_UIMM5_UIMM5_OP( 12, p.bclr, 0b01010011000001100000011000001110, 0b01010011000001101100111000001110, 4, 11 )
  TEST_UIMM5_UIMM5_OP( 13, p.bclr, 0b00000000000000001000000000000001, 0b01011111000111001000000000000001, 20, 18 )
  TEST_UIMM5_UIMM5_OP( 14, p.bclr, 0b00000100110000110100010101110000, 0b00110100110000110100010101110000, 13, 27 )
  TEST_UIMM5_UIMM5_OP( 15, p.bclr, 0b00000000000000000000000000011011, 0b10001001111000000010010111111011, 31, 5 )
  TEST_UIMM5_UIMM5_OP( 16, p.bclr, 0b00000000000000000000000000000111, 0b00001011100111000011100110000111, 31, 3 )
  TEST_UIMM5_UIMM5_OP( 17, p.bclr, 0b00000000000000000000010110001110, 0b01111010011010110001010110001110, 21, 11 )
  TEST_UIMM5_UIMM5_OP( 18, p.bclr, 0b00000000100011111010000100011001, 0b11110010100011111010000100011001, 21, 25 )
  TEST_UIMM5_UIMM5_OP( 19, p.bclr, 0b01110100000000000000000000010111, 0b01110111011011100101001110010111, 18, 7 )
  

  #-------------------------------------------------------------
  # Source/Destination tests
  #-------------------------------------------------------------
  TEST_UIMM5_UIMM5_SRC1_EQ_DEST( 20, p.bclr, 0b01000010101010100100000111101110, 0b01000010101010110100000111101110, 0, 16 )
  TEST_UIMM5_UIMM5_SRC1_EQ_DEST( 21, p.bclr, 0b00000100001100010101100010111010, 0b00010100001100010101100010111010, 5, 27 )
  

  #-------------------------------------------------------------
  # Bypassing tests
  #-------------------------------------------------------------
  TEST_UIMM5_UIMM5_SRC1_BYPASS( 22, 0, p.bclr, 0b01110111001010101100000000000001, 0b01110111001010101100100110000001, 7, 4 )
  TEST_UIMM5_UIMM5_SRC1_BYPASS( 23, 1, p.bclr, 0b00111000010001011010010101111110, 0b00111000010001011010010101111110, 0, 30 )
  TEST_UIMM5_UIMM5_SRC1_BYPASS( 24, 2, p.bclr, 0b11001110010100100000111000101010, 0b11001110010100101100111000101010, 4, 12 )
  TEST_UIMM5_UIMM5_SRC1_BYPASS( 25, 0, p.bclr, 0b00010000000000000000010110010011, 0b00010000110011110100010110010011, 14, 12 )
  TEST_UIMM5_UIMM5_SRC1_BYPASS( 26, 1, p.bclr, 0b00000000000101001001001011110101, 0b00111010000101001001001011110101, 16, 24 )
  TEST_UIMM5_UIMM5_SRC1_BYPASS( 27, 2, p.bclr, 0b01100111100000000000000000000001, 0b01100111100001111011001111001001, 18, 2 )
  
  TEST_UIMM5_UIMM5_DEST_BYPASS( 28, 0, p.bclr, 0b10011000101100010000101110001010, 0b11011000101100010000101110001010, 0, 30 )
  TEST_UIMM5_UIMM5_DEST_BYPASS( 29, 1, p.bclr, 0b01100000000101010110101011010000, 0b01100100100101010110101011010000, 5, 21 )
  TEST_UIMM5_UIMM5_DEST_BYPASS( 30, 2, p.bclr, 0b00000000000101110101000010110010, 0b10011100001101110101000010110010, 18, 21 )
  TEST_UIMM5_UIMM5_DEST_BYPASS( 31, 0, p.bclr, 0b11101010000000000000001111011011, 0b11101011100011110000001111011011, 14, 10 )
  TEST_UIMM5_UIMM5_DEST_BYPASS( 32, 1, p.bclr, 0b00000001001100001111010111010010, 0b11100101001100001111010111010010, 28, 25 )
  TEST_UIMM5_UIMM5_DEST_BYPASS( 33, 2, p.bclr, 0b00000001101000100000000011110111, 0b00000001101000100000000011110111, 24, 29 )
  
  

  TEST_UIMM5_UIMM5_ZEROSRC1( 34, p.bclr, 0b00000000000000000000000000000000, 12, 20 )
  TEST_UIMM5_UIMM5_ZEROSRC1( 35, p.bclr, 0b00000000000000000000000000000000, 14, 14 )
  
  TEST_UIMM5_UIMM5_ZERODEST( 36, p.bclr, 0b00101101101101010000100000111000, 16, 23 )
  TEST_UIMM5_UIMM5_ZERODEST( 37, p.bclr, 0b01100010111001100100110110010010, 13, 14 )
  
  

  TEST_PASSFAIL

# Input data section.
RVTEST_CODE_END

  .data

# Output data section.
RVTEST_DATA_BEGIN

  TEST_DATA

RVTEST_DATA_END
